import{a1 as vr,S as mr,i as pr,s as yr,k as p,q as de,a as X,w as br,l as y,m as g,r as fe,h as E,c as G,x as hr,n as u,b as _t,H as l,y as Ar,a2 as Er,f as _r,t as Sr,z as gr,$ as wr,D as Or,G as or}from"../../../../chunks/shared-fa10f55a.js";import{T as er,g as Dr}from"../../../../chunks/navigation-080f42bc.js";import{B as Tr}from"../../../../chunks/BootstrapIcon-52726957.js";import{P as kr}from"../../../../chunks/public-d332d5c3.js";import{w as Ir}from"../../../../chunks/singletons-6a4e9829.js";function Pr(e,...t){const r=e.subscribe(...t);return r.unsubscribe?()=>r.unsubscribe():r}function We(e){let t;return Pr(e,r=>t=r)(),t}class Nr extends Error{constructor(t,r){super(t),this.name="FelteSubmitError",this.response=r}}function Lr(e,t){return Object.keys(e).some(n=>t(e[n]))}function gt(e,t){return Object.keys(e||{}).reduce((n,s)=>Object.assign(Object.assign({},n),{[s]:t(e[s])}),{})}function w(e){return Object.prototype.toString.call(e)==="[object Object]"}function Oe(e){return Object.keys(e||{}).reduce((t,r)=>Object.assign(Object.assign({},t),{[r]:w(e[r])?Oe(e[r]):Array.isArray(e[r])?[...e[r]]:e[r]}),{})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function xr(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Fr(e){return function(t){if(w(t)){const r=De(t,e);return xr(r,["key"])}return e}}function De(e,t){return gt(e,r=>w(r)?De(r,t):Array.isArray(r)?r.map(Fr(t)):t)}function ze(...e){const t=e.pop(),r=e.shift();if(typeof r=="string")return r;const n=Oe(r);if(e.length===0)return n;for(const s of e){if(!s)continue;if(typeof s=="string")return s;let i=t(n,s);if(typeof i<"u")return i;const o=Array.from(new Set(Object.keys(n).concat(Object.keys(s))));for(const d of o)if(i=t(n[d],s[d]),typeof i<"u")n[d]=i;else if(w(s[d])&&w(n[d]))n[d]=ze(n[d],s[d],t);else if(Array.isArray(s[d]))n[d]=s[d].map((_,O)=>{if(!w(_))return _;const D=Array.isArray(n[d])?n[d][O]:n[d];return ze(D,_,t)});else if(w(s[d])){const _=De(Oe(s[d]),void 0);n[d]=ze(_,s[d],t)}else typeof s[d]<"u"&&(n[d]=s[d])}return n}function Ur(e,t){if(!(w(e)&&w(t))){if(Array.isArray(t)){if(t.some(w))return;const r=Array.isArray(e)?e:[];return t.map((n,s)=>{var i;return(i=r[s])!==null&&i!==void 0?i:n})}if(typeof e<"u")return e}}function tr(...e){return ze(...e,Ur)}function lr(...e){return ze(...e,()=>{})}function qe(e,t,r){const n=i=>String.prototype.split.call(t,i).filter(Boolean).reduce((o,d)=>o!=null?o[d]:o,e),s=n(/[,[\]]+?/)||n(/[,[\].]+?/);return s===void 0||s===e?r:s}function it(e,t,r){e&&(e=Oe(e)),w(e)||(e={});const n=Array.isArray(t)?t:t.match(/[^.[\]]+/g)||[],s=n[n.length-1];if(!s)return e;let i=e;for(let o=0;o<n.length-1;o++){const d=n[o];if(!i[d]||!w(i[d])&&!Array.isArray(i[d])){const _=n[o+1];isNaN(Number(_))?i[d]={}:i[d]=[]}i=i[d]}return i[s]=r(i[s]),e}function W(e,t,r){return it(e,t,()=>r)}function rt(e,t){if(!e||Object(e)!==e)return;typeof e<"u"&&(e=Oe(e));const r=Array.isArray(t)?t:t.toString().match(/[^.[\]]+/g)||[],n=r.length===1?e:qe(e,r.slice(0,-1).join("."));return Array.isArray(n)?n.splice(Number(r[r.length-1]),1):n==null||delete n[r[r.length-1]],e}function st(e,t){return Lr(e,r=>w(r)?st(r,t):Array.isArray(r)?r.length===0||r.every(n=>typeof n=="string")?t(r):r.some(n=>w(n)?st(n,t):t(n)):t(r))}function Ve(e){return(e==null?void 0:e.nodeName)==="INPUT"}function Br(e){return(e==null?void 0:e.nodeName)==="TEXTAREA"}function et(e){return(e==null?void 0:e.nodeName)==="SELECT"}function wt(e){return(e==null?void 0:e.nodeName)==="FIELDSET"}function me(e){return Ve(e)||Br(e)||et(e)}function rr(e){return e.nodeType===Node.ELEMENT_NODE}function ve(e,t){return t??(me(e)?e.name:"")}function Ft(e){let t=e;for(;t&&t.nodeName!=="FORM";){if(t.hasAttribute("data-felte-ignore"))return!0;t=t.parentElement}return!1}function $r(e,t){if(!(w(e)||w(t))){if(e===null||e==="")return t;if(t===null||t===""||!t)return e;if(!(!e||!t)){if(Array.isArray(e)){if(!Array.isArray(t))return[...e,t];const r=[],n=Math.max(t.length,e.length);for(let s=0;s<n;s++){let i=e[s],o=t[s];!w(i)&&!w(o)?(Array.isArray(i)||(i=[i]),Array.isArray(o)||(o=[o]),r.push(...i,...o)):r.push(Ze([i??{},o??{}]))}return r.filter(Boolean)}return Array.isArray(t)||(t=[t]),[e,...t].reduce((r,n)=>r.concat(n),[]).filter(Boolean)}}}function Ze(e){return ze(...e,$r)}function jr(e,t){return t?(Array.isArray(t)?t:[t]).map(n=>n(e)):[]}function Ut(e,t){return t?Array.isArray(t)?t.reduce((r,n)=>n(r),e):t(e):e}function ur(e=8){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let r="";for(let n=0;n<e;n++)r+=t.charAt(Math.floor(Math.random()*t.length));return r}function St(e,t,{onInit:r,onEnd:n}={}){let s;return(...i)=>{s||r==null||r(),s&&clearTimeout(s),s=setTimeout(()=>{e.apply(this,i),s=void 0,n==null||n()},t)}}function Bt(e){if(me(e))return[e];if(e.childElementCount===0)return[];const t=new Set;for(const r of e.children){if(me(r)&&t.add(r),wt(r))for(const n of r.elements)me(n)&&t.add(n);r.childElementCount>0&&Bt(r).forEach(n=>t.add(n))}return Array.from(t)}function cr(e){for(const t of e.elements)!me(t)&&!wt(t)||e.hasAttribute("data-felte-keep-on-remove")&&!t.hasAttribute("data-felte-keep-on-remove")&&(t.dataset.felteKeepOnRemove=e.dataset.felteKeepOnRemove)}function dr(e){return e.type.match(/^(number|range)$/)?e.value?+e.value:void 0:e.value}function nr(e){var t;let r={},n={};for(const s of e.elements){if(wt(s)&&cr(s),!me(s)||!s.name)continue;const i=ve(s);if(Ve(s)){if(s.type==="checkbox"){if(typeof qe(r,i)>"u"){if(Array.from(e.querySelectorAll(`[name="${s.name}"]`)).filter(_=>me(_)?i===ve(_):!1).length===1){r=W(r,i,s.checked),n=W(n,i,!1);continue}r=W(r,i,s.checked?[s.value]:[]),n=W(n,i,!1);continue}Array.isArray(qe(r,i))&&s.checked&&(r=it(r,i,d=>[...d,s.value]));continue}if(s.type==="radio"){if(qe(r,i))continue;r=W(r,i,s.checked?s.value:void 0),n=W(n,i,!1);continue}if(s.type==="file"){r=W(r,i,s.multiple?Array.from(s.files||[]):(t=s.files)===null||t===void 0?void 0:t[0]),n=W(n,i,!1);continue}}else if(et(s)){if(!s.multiple)r=W(r,i,s.value);else{const _=Array.from(s.options).filter(O=>O.selected).map(O=>O.value);r=W(r,i,_)}n=W(n,i,!1);continue}const o=dr(s);r=W(r,i,o),n=W(n,i,!1)}return{defaultData:r,defaultTouched:n}}function Wr(e,t){var r;if(!me(e))return;const n=t;if(Ve(e)){if(e.type==="checkbox"){const s=n;if(typeof s>"u"||typeof s=="boolean"){e.checked=!!s;return}Array.isArray(s)&&(s.includes(e.value)?e.checked=!0:e.checked=!1);return}if(e.type==="radio"){const s=n;e.value===s?e.checked=!0:e.checked=!1;return}if(e.type==="file"){e.files=null,e.value="";return}}else if(et(e)){if(e.multiple){if(Array.isArray(n)){e.value=String((r=n[0])!==null&&r!==void 0?r:"");const i=n.map(o=>String(o));for(const o of e.options)i.includes(o.value)?o.selected=!0:o.selected=!1}}else{e.value=String(n??"");for(const i of e.options)i.value===String(n)?i.selected=!0:i.selected=!1}return}e.value=String(n??"")}function At(e,t){for(const r of e.elements){if(wt(r)&&cr(r),!me(r)||!r.name)continue;const n=ve(r);Wr(r,qe(t,n))}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function fr(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Re(e,t){return gt(e,r=>w(r)?Re(r,t):Array.isArray(r)?r.length===0||r.every(n=>typeof n=="string")?t:r.map(n=>{const s=Re(n,t);return fr(s,["key"])}):t)}function Ce(e){return e?gt(e,t=>w(t)?Ce(t):Array.isArray(t)?t.length===0||t.every(r=>typeof r=="string")?t:t.map(r=>{if(!w(r))return r;const n=Ce(r);return n.key||(n.key=ur()),n}):t):{}}function nt(e){return e?gt(e,t=>w(t)?Ce(t):Array.isArray(t)?t.length===0||t.every(r=>typeof r=="string")?t:t.map(r=>{if(!w(r))return r;const n=Ce(r);return fr(n,["key"])}):t):{}}function Rr(){class e extends CustomEvent{constructor(s){super("feltesuccess",{detail:s})}}class t extends CustomEvent{constructor(s){super("felteerror",{detail:s,cancelable:!0})}setErrors(s){this.preventDefault(),this.errors=s}}class r extends Event{constructor(){super("feltesubmit",{cancelable:!0})}handleSubmit(s){this.onSubmit=s}handleError(s){this.onError=s}handleSuccess(s){this.onSuccess=s}}return{createErrorEvent:n=>new t(n),createSubmitEvent:()=>new r,createSuccessEvent:n=>new e(n)}}function qr(e){if(e)return async function(){let r=new FormData(e);const n=new URL(e.action),s=e.method.toLowerCase()==="get"?"get":n.searchParams.get("_method")||e.method;let i=e.enctype;e.querySelector('input[type="file"]')&&(i="multipart/form-data"),(s==="get"||i==="application/x-www-form-urlencoded")&&(r=new URLSearchParams(r));let o;s==="get"?(r.forEach((_,O)=>{n.searchParams.append(O,_)}),o={method:s,headers:{Accept:"application/json"}}):o={method:s,body:r,headers:Object.assign(Object.assign({},i!=="multipart/form-data"&&{"Content-Type":i}),{Accept:"application/json"})};const d=await window.fetch(n.toString(),o);if(d.ok)return d;throw new Nr("An error occurred while submitting the form",d)}}function Et(e,t,r,n){return it(e,t,s=>(typeof s<"u"&&!Array.isArray(s)||(s||(s=[]),typeof n>"u"?s.push(r):s.splice(n,0,r)),s))}function Cr(e,t,r,n){return it(e,t,s=>(!s||!Array.isArray(s)||([s[r],s[n]]=[s[n],s[r]]),s))}function Hr(e,t,r,n){return it(e,t,s=>(!s||!Array.isArray(s)||s.splice(n,0,s.splice(r,1)[0]),s))}function sr(e){return typeof e=="function"}function Me(e){return(r,n)=>{if(typeof r=="string"){const s=r;e(i=>{const o=sr(n)?n(qe(i,s)):n;return W(i,s,o)})}else e(s=>sr(r)?r(s):r)}}function Mr({stores:e,config:t,validateErrors:r,validateWarnings:n,_getCurrentExtenders:s}){var i;let o,d=Ce((i=t.initialValues)!==null&&i!==void 0?i:{});const{data:_,touched:O,errors:D,warnings:m,isDirty:N,isSubmitting:k,interacted:R}=e,C=Me(_.update),q=Me(O.update),L=Me(D.update),Q=Me(m.update);function Y(c){C(h=>{const A=c(h);return o&&At(o,A),A})}const $=(c,h,A)=>{Me(Y)(c,h),typeof c=="string"&&A&&q(c,!0)};function Te(c,h,A){const P=w(h)?Re(h,!1):!1,x=w(P)?De(P,[]):[];h=w(h)?Object.assign(Object.assign({},h),{key:ur()}):h,D.update(K=>Et(K,c,x,A)),m.update(K=>Et(K,c,x,A)),O.update(K=>Et(K,c,P,A)),_.update(K=>{const re=Et(K,c,h,A);return setTimeout(()=>o&&At(o,re)),re})}function I(c){D.update(c),m.update(c),O.update(c),_.update(h=>{const A=c(h);return setTimeout(()=>o&&At(o,A)),A})}function oe(c){I(h=>rt(h,c))}function ee(c,h,A){I(P=>Cr(P,c,h,A))}function se(c,h,A){I(P=>Hr(P,c,h,A))}function Ne(c){const h=qe(d,c),A=w(h)?Re(h,!1):!1,P=w(A)?De(A,[]):[];_.update(x=>{const K=W(x,c,h);return o&&At(o,K),K}),O.update(x=>W(x,c,A)),D.update(x=>W(x,c,P)),m.update(x=>W(x,c,P))}const S=Me(k.update),z=Me(N.update),te=Me(R.update);async function ke(){const c=We(_);O.set(Re(c,!0)),R.set(null);const h=await r(c);return await n(c),h}function pe(){$(Oe(d)),q(c=>De(c,!1)),R.set(null),N.set(!1)}function H(c){return async function(A){var P,x,K,re,Ie,xe,ye;const{createErrorEvent:Pe,createSubmitEvent:je,createSuccessEvent:Fe}=Rr(),ie=je();o==null||o.dispatchEvent(ie);const f=(x=(P=ie.onError)!==null&&P!==void 0?P:c==null?void 0:c.onError)!==null&&x!==void 0?x:t.onError,a=(re=(K=ie.onSuccess)!==null&&K!==void 0?K:c==null?void 0:c.onSuccess)!==null&&re!==void 0?re:t.onSuccess,v=(ye=(xe=(Ie=ie.onSubmit)!==null&&Ie!==void 0?Ie:c==null?void 0:c.onSubmit)!==null&&xe!==void 0?xe:t.onSubmit)!==null&&ye!==void 0?ye:qr(o);if(!v||(A==null||A.preventDefault(),ie.defaultPrevented))return;k.set(!0),R.set(null);const b=nt(We(_)),ae=await r(b,c==null?void 0:c.validate),be=await n(b,c==null?void 0:c.warn);if(be&&m.set(lr(De(b,[]),be)),O.set(Re(b,!0)),ae&&(O.set(Re(ae,!0)),st(ae,j=>Array.isArray(j)?j.length>=1:!!j))){await new Promise(j=>setTimeout(j)),s().forEach(j=>{var Ae;return(Ae=j.onSubmitError)===null||Ae===void 0?void 0:Ae.call(j,{data:b,errors:ae})}),k.set(!1);return}const Se={setFields:$,setData:C,setTouched:q,setErrors:L,setWarnings:Q,unsetField:oe,addField:Te,resetField:Ne,reset:pe,setInitialValues:_e.setInitialValues,moveField:se,swapFields:ee,form:o,controls:o&&Array.from(o.elements).filter(me),config:Object.assign(Object.assign({},t),c)};try{const F=await v(b,Se);o==null||o.dispatchEvent(Fe(Object.assign({response:F},Se))),await(a==null?void 0:a(F,Se))}catch(F){const j=Pe(Object.assign({error:F},Se));if(o==null||o.dispatchEvent(j),!f&&!j.defaultPrevented)throw F;if(!f&&!j.errors)return;const Ae=j.errors||await(f==null?void 0:f(F,Se));Ae&&(O.set(Re(Ae,!0)),D.set(Ae),await new Promise(ge=>setTimeout(ge)),s().forEach(ge=>{var ue;return(ue=ge.onSubmitError)===null||ue===void 0?void 0:ue.call(ge,{data:b,errors:We(D)})}))}finally{k.set(!1)}}}const _e={setData:C,setFields:$,setTouched:q,setErrors:L,setWarnings:Q,setIsSubmitting:S,setIsDirty:z,setInteracted:te,validate:ke,reset:pe,unsetField:oe,resetField:Ne,addField:Te,swapFields:ee,moveField:se,createSubmitHandler:H,handleSubmit:H(),setInitialValues:c=>{d=Ce(c)}};return{public:_e,private:{_setFormNode(c){o=c},_getInitialValues:()=>d}}}function zr({helpers:e,stores:t,config:r,extender:n,createSubmitHandler:s,handleSubmit:i,_setFormNode:o,_getInitialValues:d,_setCurrentExtenders:_,_getCurrentExtenders:O}){const{setFields:D,setTouched:m,reset:N,setInitialValues:k}=e,{addValidator:R,addTransformer:C,validate:q}=e,{data:L,errors:Q,warnings:Y,touched:$,isSubmitting:Te,isDirty:I,interacted:oe,isValid:ee,isValidating:se}=t;function Ne(S){S.requestSubmit||(S.requestSubmit=i);function z(f){return function(a){return a({form:S,stage:f,controls:Array.from(S.elements).filter(me),data:L,errors:Q,warnings:Y,touched:$,isValid:ee,isValidating:se,isSubmitting:Te,isDirty:I,interacted:oe,config:r,addValidator:R,addTransformer:C,setFields:D,validate:q,reset:N,createSubmitHandler:s,handleSubmit:i})}}_(n.map(z("MOUNT"))),S.noValidate=!!r.validate;const{defaultData:te,defaultTouched:ke}=nr(S);o(S),k(lr(Oe(te),d())),D(d()),$.set(ke);function pe(f){const a=ve(f),v=Array.from(S.querySelectorAll(`[name="${f.name}"]`)).filter(b=>me(b)?a===ve(b):!1);if(v.length!==0)return v.length===1?L.update(b=>W(b,ve(f),f.checked)):L.update(b=>W(b,ve(f),v.filter(Ve).filter(ae=>ae.checked).map(ae=>ae.value)))}function H(f){const a=S.querySelectorAll(`[name="${f.name}"]`),v=Array.from(a).find(b=>Ve(b)&&b.checked);L.update(b=>W(b,ve(f),v==null?void 0:v.value))}function _e(f){var a;const v=Array.from((a=f.files)!==null&&a!==void 0?a:[]);L.update(b=>W(b,ve(f),f.multiple?v:v[0]))}function le(f){if(!f.multiple)L.update(a=>W(a,ve(f),f.value));else{const a=Array.from(f.options).filter(v=>v.selected).map(v=>v.value);L.update(v=>W(v,ve(f),a))}}function c(f){const a=f.target;if(!a||!me(a)||et(a)||Ft(a)||["checkbox","radio","file"].includes(a.type)||!a.name)return;I.set(!0);const v=dr(a);oe.set(a.name),L.update(b=>W(b,ve(a),v))}function h(f){const a=f.target;if(!(!a||!me(a)||Ft(a))&&a.name)if(m(ve(a),!0),oe.set(a.name),(et(a)||["checkbox","radio","file","hidden"].includes(a.type))&&I.set(!0),a.type==="hidden"&&L.update(v=>W(v,ve(a),a.value)),et(a))le(a);else if(Ve(a))a.type==="checkbox"?pe(a):a.type==="radio"?H(a):a.type==="file"&&_e(a);else return}function A(f){const a=f.target;!a||!me(a)||Ft(a)||a.name&&(m(ve(a),!0),oe.set(a.name))}function P(f){f.preventDefault(),N()}const x={childList:!0,subtree:!0};function K(f){let a=We(L),v=We($),b=We(Q),ae=We(Y);for(const be of f.reverse()){if(be.hasAttribute("data-felte-keep-on-remove")&&be.dataset.felteKeepOnRemove!=="false")continue;const Se=/.*(\[[0-9]+\]|\.[0-9]+)\.[^.]+$/;let F=ve(be);const j=We($);if(Se.test(F)){const ge=F.split(".").slice(0,-1).join("."),ue=qe(j,ge);w(ue)&&Object.keys(ue).length<=1&&(F=ge)}a=rt(a,F),v=rt(v,F),b=rt(b,F),ae=rt(ae,F)}L.set(a),$.set(v),Q.set(b),Y.set(ae)}const re=St(()=>{O().forEach(v=>{var b;return(b=v.destroy)===null||b===void 0?void 0:b.call(v)}),_(n.map(z("UPDATE")));const{defaultData:f,defaultTouched:a}=nr(S);L.update(v=>tr(v,f)),$.update(v=>tr(v,a)),e.setFields(We(L))},0);let Ie=[];const xe=St(()=>{O().forEach(f=>{var a;return(a=f.destroy)===null||a===void 0?void 0:a.call(f)}),_(n.map(z("UPDATE"))),K(Ie),Ie=[]},0);function ye(f){Array.from(f.addedNodes).some(v=>rr(v)?me(v)?!0:Bt(v).length>0:!1)&&re()}function Pe(f){for(const a of f.removedNodes){if(!rr(a))continue;const v=Bt(a);v.length!==0&&(Ie.push(...v),xe())}}function je(f){for(const a of f)a.type==="childList"&&(a.addedNodes.length>0&&ye(a),a.removedNodes.length>0&&Pe(a))}const Fe=new MutationObserver(je);Fe.observe(S,x),S.addEventListener("input",c),S.addEventListener("change",h),S.addEventListener("focusout",A),S.addEventListener("submit",i),S.addEventListener("reset",P);const ie=Q.subscribe(f=>{for(const a of S.elements){if(!me(a)||!a.name)continue;const v=qe(f,ve(a)),b=Array.isArray(v)?v.join(`
`):typeof v=="string"?v:void 0;b!==a.dataset.felteValidationMessage&&(b?(a.dataset.felteValidationMessage=b,a.setAttribute("aria-invalid","true")):(delete a.dataset.felteValidationMessage,a.removeAttribute("aria-invalid")))}});return{destroy(){Fe.disconnect(),S.removeEventListener("input",c),S.removeEventListener("change",h),S.removeEventListener("focusout",A),S.removeEventListener("submit",i),S.removeEventListener("reset",P),ie(),O().forEach(f=>{var a;return(a=f.destroy)===null||a===void 0?void 0:a.call(f)})}}}return{form:Ne}}function Kr(e){const t={aborted:!1,priority:e};return{signal:t,abort(){t.aborted=!0}}}function Xr(e,t){if(w(e))return!t||w(t)&&Object.keys(t).length===0?De(e,null):void 0;if(Array.isArray(e)){if(e.some(w))return;const r=Array.isArray(t)?t:[];return e.map((n,s)=>{const i=r[s];return Array.isArray(i)&&i.length===0?null:n&&i||null})}return Array.isArray(t)&&t.length===0?null:Array.isArray(t)?e?t:null:e&&t?[t]:null}function Gr(e,t){if(w(e))return!t||w(t)&&Object.keys(t).length===0?De(e,null):void 0;if(Array.isArray(e)){if(e.some(w))return;const r=Array.isArray(t)?t:[];return e.map((n,s)=>{const i=r[s];return Array.isArray(i)&&i.length===0?null:i||null})}return Array.isArray(t)&&t.length===0?null:Array.isArray(t)?t:t?[t]:null}function Jr([e,t]){return ze(t,e,Xr)}function Qr([e,t]){return ze(t,e,Gr)}function Yr(e){return function(r,n,s){const i=Array.isArray(r)?r:[r],o=new Array(i.length),d=e(s),_=d.set,O=d.subscribe;let D;function m(){D=i.map((k,R)=>k.subscribe(C=>{o[R]=C,_(n(o))}))}function N(){D==null||D.forEach(k=>k())}return d.subscribe=function(R){const C=O(R);return()=>{C()}},[d,m,N]}}function Zr(e,t){var r,n,s,i,o,d,_,O,D;const m=Yr(e),N=t.initialValues=t.initialValues?Ce(Ut(Oe(t.initialValues),t.transform)):{},k=Re(nt(N),!1),R=e(k),C=e(0),[q,L,Q]=m([R,C],([U,T])=>st(U,ce=>!!ce)&&T>=1,!1);delete q.set,delete q.update;function Y(U){let T;return async function(ce,Z,J,Ue=!1){if(!J||!ce)return;let Le=Z&&Object.keys(Z).length>0?Z:De(ce,[]);const Ee=Kr(Ue);if((!(T!=null&&T.signal.priority)||Ue)&&(T==null||T.abort(),T=Ee),T.signal.priority&&!Ue)return;C.update(we=>we+1);const Ge=jr(ce,J);return Ge.forEach(async we=>{const $e=await we;Ee.signal.aborted||(Le=Ze([Le,$e]),U.set(Le))}),await Promise.all(Ge),T=void 0,C.update(we=>we-1),Le}}let $=De(k,[]);const Te=e(N),I=De(k,[]),oe=e(I),ee=e(Oe(I)),[se,Ne,S]=m([oe,ee],Ze,Oe(I)),z=De(k,[]),te=e(z),ke=e(Oe(z)),[pe,H,_e]=m([te,ke],Ze,Oe(z)),[le,c,h]=m([se,R],Jr,Oe(I)),[A,P,x]=m([pe,R],Qr,Oe(z));let K=!1;const[re,Ie,xe]=m(se,([U])=>{var T;return K?!st(U,M=>Array.isArray(M)?M.length>=1:!!M):(K=!0,!t.validate&&!(!((T=t.debounced)===null||T===void 0)&&T.validate))},!t.validate&&!(!((r=t.debounced)===null||r===void 0)&&r.validate));delete re.set,delete re.update;const ye=e(!1),Pe=e(!1),je=e(null),Fe=Y(oe),ie=Y(te),f=Y(ee),a=Y(ke),v=St(f,(o=(s=(n=t.debounced)===null||n===void 0?void 0:n.validateTimeout)!==null&&s!==void 0?s:(i=t.debounced)===null||i===void 0?void 0:i.timeout)!==null&&o!==void 0?o:300,{onInit:()=>{C.update(U=>U+1)},onEnd:()=>{C.update(U=>U-1)}}),b=St(a,(D=(_=(d=t.debounced)===null||d===void 0?void 0:d.warnTimeout)!==null&&_!==void 0?_:(O=t.debounced)===null||O===void 0?void 0:O.timeout)!==null&&D!==void 0?D:300);async function ae(U,T){var M;const ce=nt(U),Z=Fe(ce,$,T??t.validate,!0);if(T)return Z;const J=f(ce,$,(M=t.debounced)===null||M===void 0?void 0:M.validate,!0);return Ze(await Promise.all([Z,J]))}async function be(U,T){var M;const ce=nt(U),Z=ie(ce,$,T??t.warn,!0);if(T)return Z;const J=a(ce,$,(M=t.debounced)===null||M===void 0?void 0:M.warn,!0);return Ze(await Promise.all([Z,J]))}let Se=I,F=z;function j(){const U=Te.subscribe(J=>{var Ue,Le;const Ee=nt(J);Fe(Ee,$,t.validate),ie(Ee,$,t.warn),v(Ee,$,(Ue=t.debounced)===null||Ue===void 0?void 0:Ue.validate),b(Ee,$,(Le=t.debounced)===null||Le===void 0?void 0:Le.warn)}),T=R.subscribe(J=>{$=De(J,[])}),M=se.subscribe(J=>{Se=J}),ce=pe.subscribe(J=>{F=J});Ne(),Ie(),H(),c(),P(),L();function Z(){U(),h(),S(),_e(),x(),xe(),Q(),T(),M(),ce()}return Z}function Ae(U){oe.set(U(Se)),ee.set({})}function ge(U){te.set(U(F)),ke.set({})}function ue(U){Ae(()=>U)}function He(U){ge(()=>U)}return le.set=ue,le.update=Ae,A.set=He,A.update=ge,{data:Te,errors:le,warnings:A,touched:R,isValid:re,isSubmitting:ye,isDirty:Pe,isValidating:q,interacted:je,validateErrors:ae,validateWarnings:be,cleanup:t.preventStoreStart?()=>{}:j(),start:j}}function Vr(e,t){var r,n;(r=e.extend)!==null&&r!==void 0||(e.extend=[]),(n=e.debounced)!==null&&n!==void 0||(e.debounced={}),e.validate&&!Array.isArray(e.validate)&&(e.validate=[e.validate]),e.debounced.validate&&!Array.isArray(e.debounced.validate)&&(e.debounced.validate=[e.debounced.validate]),e.transform&&!Array.isArray(e.transform)&&(e.transform=[e.transform]),e.warn&&!Array.isArray(e.warn)&&(e.warn=[e.warn]),e.debounced.warn&&!Array.isArray(e.debounced.warn)&&(e.debounced.warn=[e.debounced.warn]);function s(H,{debounced:_e,level:le}={debounced:!1,level:"error"}){var c;const h=le==="error"?"validate":"warn";(c=e.debounced)!==null&&c!==void 0||(e.debounced={});const A=_e?e.debounced:e;A[h]?A[h]=[...A[h],H]:A[h]=[H]}function i(H){e.transform?e.transform=[...e.transform,H]:e.transform=[H]}const o=Array.isArray(e.extend)?e.extend:[e.extend];let d=[];const _=()=>d,O=H=>{d=H},{isSubmitting:D,isValidating:m,data:N,errors:k,warnings:R,touched:C,isValid:q,isDirty:L,cleanup:Q,start:Y,validateErrors:$,validateWarnings:Te,interacted:I}=Zr(t.storeFactory,e),oe=N.update,ee=N.set,se=H=>oe(_e=>Ce(Ut(H(_e),e.transform))),Ne=H=>ee(Ce(Ut(H,e.transform)));N.update=se,N.set=Ne;const S=Mr({extender:o,config:e,addValidator:s,addTransformer:i,validateErrors:$,validateWarnings:Te,_getCurrentExtenders:_,stores:{data:N,errors:k,warnings:R,touched:C,isValid:q,isValidating:m,isSubmitting:D,isDirty:L,interacted:I}}),{createSubmitHandler:z,handleSubmit:te}=S.public;d=o.map(H=>H({stage:"SETUP",errors:k,warnings:R,touched:C,data:N,isDirty:L,isValid:q,isValidating:m,isSubmitting:D,interacted:I,config:e,addValidator:s,addTransformer:i,setFields:S.public.setFields,reset:S.public.reset,validate:S.public.validate,handleSubmit:te,createSubmitHandler:z}));const ke=Object.assign({config:e,stores:{data:N,touched:C,errors:k,warnings:R,isSubmitting:D,isValidating:m,isValid:q,isDirty:L,interacted:I},createSubmitHandler:z,handleSubmit:te,helpers:Object.assign(Object.assign({},S.public),{addTransformer:i,addValidator:s}),extender:o,_getCurrentExtenders:_,_setCurrentExtenders:O},S.private),{form:pe}=zr(ke);return Object.assign({data:N,errors:k,warnings:R,touched:C,isValid:q,isSubmitting:D,isValidating:m,isDirty:L,interacted:I,form:pe,cleanup:Q,startStores:Y},S.public)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function en(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function tn(e){const t=Vr(e??{},{storeFactory:Ir}),{cleanup:r,startStores:n}=t,s=en(t,["cleanup","startStores"]);return vr(r),s}function ir(e,t,r){const n=e.slice();return n[1]=t[r][0],n[2]=t[r][1],n}function ar(e){let t,r=e[2]+"",n;return{c(){t=p("option"),n=de(r),this.h()},l(s){t=y(s,"OPTION",{});var i=g(t);n=fe(i,r),i.forEach(E),this.h()},h(){t.__value=e[1],t.value=t.__value},m(s,i){_t(s,t,i),l(t,n)},p:Or,d(s){s&&E(t)}}}function rn(e){let t,r,n,s,i,o,d,_,O,D,m,N,k,R,C,q,L,Q,Y,$,Te,I,oe,ee,se,Ne,S,z,te,ke,pe,H,_e,le,c,h,A,P,x,K,re,Ie,xe,ye,Pe,je,Fe,ie,f,a,v,b,ae,be,Se,F,j,Ae,ge,ue,He,U,T,M,ce,Z,J,Ue,Le,Ee,Ge,we,$e,Ot,Je,Dt,Tt,Ke,kt,Qe,Xe,It,at,Pt,$t;d=new Tr({props:{class:"me-1",icon:"arrow-left-square",width:"24",height:"24"}});let Ye=Object.entries(er),he=[];for(let B=0;B<Ye.length;B+=1)he[B]=ar(ir(e,Ye,B));return{c(){t=p("div"),r=p("h1"),n=de("Add a new rum"),s=X(),i=p("div"),o=p("a"),br(d.$$.fragment),_=de(`
      Back to the list`),O=X(),D=p("div"),m=p("form"),N=p("div"),k=p("label"),R=de("Name"),C=X(),q=p("input"),L=X(),Q=p("div"),Y=p("label"),$=de("Type"),Te=X(),I=p("select");for(let B=0;B<he.length;B+=1)he[B].c();oe=X(),ee=p("div"),se=p("label"),Ne=de("Alcohol level"),S=X(),z=p("div"),te=p("input"),ke=X(),pe=p("span"),H=de("°"),_e=X(),le=p("div"),c=p("label"),h=de("Volume"),A=X(),P=p("div"),x=p("input"),K=X(),re=p("span"),Ie=de("cl"),xe=X(),ye=p("div"),Pe=p("label"),je=de("Distillery"),Fe=X(),ie=p("input"),f=X(),a=p("div"),v=p("label"),b=de("Origin"),ae=X(),be=p("input"),Se=X(),F=p("div"),j=p("label"),Ae=de("Price"),ge=X(),ue=p("div"),He=p("span"),U=de("€"),T=X(),M=p("input"),ce=X(),Z=p("div"),J=p("label"),Ue=de("Stock"),Le=X(),Ee=p("input"),Ge=X(),we=p("div"),$e=p("label"),Ot=de("Description "),Je=p("span"),Dt=de("(Optional)"),Tt=X(),Ke=p("textarea"),kt=X(),Qe=p("div"),Xe=p("button"),It=de("Save"),this.h()},l(B){t=y(B,"DIV",{class:!0});var Be=g(t);r=y(Be,"H1",{});var ne=g(r);n=fe(ne,"Add a new rum"),ne.forEach(E),s=G(Be),i=y(Be,"DIV",{});var tt=g(i);o=y(tt,"A",{class:!0,href:!0});var Nt=g(o);hr(d.$$.fragment,Nt),_=fe(Nt,`
      Back to the list`),Nt.forEach(E),tt.forEach(E),Be.forEach(E),O=G(B),D=y(B,"DIV",{class:!0});var jt=g(D);m=y(jt,"FORM",{class:!0});var V=g(m);N=y(V,"DIV",{class:!0});var ot=g(N);k=y(ot,"LABEL",{for:!0,class:!0});var Wt=g(k);R=fe(Wt,"Name"),Wt.forEach(E),C=G(ot),q=y(ot,"INPUT",{type:!0,class:!0,name:!0,id:!0,placeholder:!0}),ot.forEach(E),L=G(V),Q=y(V,"DIV",{class:!0});var lt=g(Q);Y=y(lt,"LABEL",{for:!0,class:!0});var Rt=g(Y);$=fe(Rt,"Type"),Rt.forEach(E),Te=G(lt),I=y(lt,"SELECT",{class:!0,id:!0,name:!0});var qt=g(I);for(let xt=0;xt<he.length;xt+=1)he[xt].l(qt);qt.forEach(E),lt.forEach(E),oe=G(V),ee=y(V,"DIV",{class:!0});var ut=g(ee);se=y(ut,"LABEL",{for:!0,class:!0});var Ct=g(se);Ne=fe(Ct,"Alcohol level"),Ct.forEach(E),S=G(ut),z=y(ut,"DIV",{class:!0});var ct=g(z);te=y(ct,"INPUT",{class:!0,type:!0,id:!0,name:!0}),ke=G(ct),pe=y(ct,"SPAN",{class:!0});var Ht=g(pe);H=fe(Ht,"°"),Ht.forEach(E),ct.forEach(E),ut.forEach(E),_e=G(V),le=y(V,"DIV",{class:!0});var dt=g(le);c=y(dt,"LABEL",{for:!0,class:!0});var Mt=g(c);h=fe(Mt,"Volume"),Mt.forEach(E),A=G(dt),P=y(dt,"DIV",{class:!0});var ft=g(P);x=y(ft,"INPUT",{class:!0,type:!0,id:!0,name:!0}),K=G(ft),re=y(ft,"SPAN",{class:!0});var zt=g(re);Ie=fe(zt,"cl"),zt.forEach(E),ft.forEach(E),dt.forEach(E),xe=G(V),ye=y(V,"DIV",{class:!0});var vt=g(ye);Pe=y(vt,"LABEL",{for:!0,class:!0});var Kt=g(Pe);je=fe(Kt,"Distillery"),Kt.forEach(E),Fe=G(vt),ie=y(vt,"INPUT",{class:!0,type:!0,id:!0,name:!0}),vt.forEach(E),f=G(V),a=y(V,"DIV",{class:!0});var mt=g(a);v=y(mt,"LABEL",{for:!0,class:!0});var Xt=g(v);b=fe(Xt,"Origin"),Xt.forEach(E),ae=G(mt),be=y(mt,"INPUT",{class:!0,type:!0,id:!0,name:!0}),mt.forEach(E),Se=G(V),F=y(V,"DIV",{class:!0});var pt=g(F);j=y(pt,"LABEL",{for:!0,class:!0});var Gt=g(j);Ae=fe(Gt,"Price"),Gt.forEach(E),ge=G(pt),ue=y(pt,"DIV",{class:!0});var yt=g(ue);He=y(yt,"SPAN",{class:!0});var Jt=g(He);U=fe(Jt,"€"),Jt.forEach(E),T=G(yt),M=y(yt,"INPUT",{class:!0,type:!0,id:!0,name:!0}),yt.forEach(E),pt.forEach(E),ce=G(V),Z=y(V,"DIV",{class:!0});var bt=g(Z);J=y(bt,"LABEL",{for:!0,class:!0});var Qt=g(J);Ue=fe(Qt,"Stock"),Qt.forEach(E),Le=G(bt),Ee=y(bt,"INPUT",{class:!0,type:!0,id:!0,name:!0}),bt.forEach(E),Ge=G(V),we=y(V,"DIV",{class:!0});var ht=g(we);$e=y(ht,"LABEL",{for:!0,class:!0});var Lt=g($e);Ot=fe(Lt,"Description "),Je=y(Lt,"SPAN",{class:!0});var Yt=g(Je);Dt=fe(Yt,"(Optional)"),Yt.forEach(E),Lt.forEach(E),Tt=G(ht),Ke=y(ht,"TEXTAREA",{class:!0,id:!0,name:!0}),g(Ke).forEach(E),ht.forEach(E),kt=G(V),Qe=y(V,"DIV",{class:!0});var Zt=g(Qe);Xe=y(Zt,"BUTTON",{class:!0,type:!0});var Vt=g(Xe);It=fe(Vt,"Save"),Vt.forEach(E),Zt.forEach(E),V.forEach(E),jt.forEach(E),this.h()},h(){u(o,"class","btn btn-primary"),u(o,"href",or+"/rums"),u(t,"class","container d-flex justify-content-between"),u(k,"for","name"),u(k,"class","form-label"),u(q,"type","text"),u(q,"class","form-control"),u(q,"name","name"),u(q,"id","name"),q.required=!0,u(q,"placeholder","Name of rum"),u(N,"class","col-12"),u(Y,"for","type"),u(Y,"class","form-label"),u(I,"class","form-select"),u(I,"id","type"),u(I,"name","type"),I.required=!0,u(Q,"class","col-12"),u(se,"for","alcoholLevel"),u(se,"class","form-label"),u(te,"class","form-control"),u(te,"type","number"),u(te,"id","alcoholLevel"),u(te,"name","alcoholLevel"),te.required=!0,u(pe,"class","input-group-text"),u(z,"class","input-group"),u(ee,"class","col-6"),u(c,"for","bottleSize"),u(c,"class","form-label"),u(x,"class","form-control"),u(x,"type","number"),u(x,"id","bottleSize"),u(x,"name","bottleSize"),x.required=!0,u(re,"class","input-group-text"),u(P,"class","input-group"),u(le,"class","col-6"),u(Pe,"for","distillery"),u(Pe,"class","form-label"),u(ie,"class","form-control"),u(ie,"type","text"),u(ie,"id","distillery"),u(ie,"name","distillery"),u(ye,"class","col-6"),u(v,"for","origin"),u(v,"class","form-label"),u(be,"class","form-control"),u(be,"type","text"),u(be,"id","origin"),u(be,"name","origin"),u(a,"class","col-6"),u(j,"for","price"),u(j,"class","form-label"),u(He,"class","input-group-text"),u(M,"class","form-control"),u(M,"type","number"),u(M,"id","price"),u(M,"name","price"),M.required=!0,u(ue,"class","input-group"),u(F,"class","col-6"),u(J,"for","stock"),u(J,"class","form-label"),u(Ee,"class","form-control"),u(Ee,"type","number"),u(Ee,"id","stock"),u(Ee,"name","stock"),u(Z,"class","col-6"),u(Je,"class","text-muted"),u($e,"for","description"),u($e,"class","form-label"),u(Ke,"class","form-control"),u(Ke,"id","description"),u(Ke,"name","description"),u(we,"class","col-12"),u(Xe,"class","btn btn-primary btn-lg"),u(Xe,"type","submit"),u(Qe,"class","text-end mt-5"),u(m,"class","row needs-validation"),u(D,"class","m-5")},m(B,Be){_t(B,t,Be),l(t,r),l(r,n),l(t,s),l(t,i),l(i,o),Ar(d,o,null),l(o,_),_t(B,O,Be),_t(B,D,Be),l(D,m),l(m,N),l(N,k),l(k,R),l(N,C),l(N,q),l(m,L),l(m,Q),l(Q,Y),l(Y,$),l(Q,Te),l(Q,I);for(let ne=0;ne<he.length;ne+=1)he[ne].m(I,null);l(m,oe),l(m,ee),l(ee,se),l(se,Ne),l(ee,S),l(ee,z),l(z,te),l(z,ke),l(z,pe),l(pe,H),l(m,_e),l(m,le),l(le,c),l(c,h),l(le,A),l(le,P),l(P,x),l(P,K),l(P,re),l(re,Ie),l(m,xe),l(m,ye),l(ye,Pe),l(Pe,je),l(ye,Fe),l(ye,ie),l(m,f),l(m,a),l(a,v),l(v,b),l(a,ae),l(a,be),l(m,Se),l(m,F),l(F,j),l(j,Ae),l(F,ge),l(F,ue),l(ue,He),l(He,U),l(ue,T),l(ue,M),l(m,ce),l(m,Z),l(Z,J),l(J,Ue),l(Z,Le),l(Z,Ee),l(m,Ge),l(m,we),l(we,$e),l($e,Ot),l($e,Je),l(Je,Dt),l(we,Tt),l(we,Ke),l(m,kt),l(m,Qe),l(Qe,Xe),l(Xe,It),at=!0,Pt||($t=Er(e[0].call(null,m)),Pt=!0)},p(B,[Be]){if(Be&0){Ye=Object.entries(er);let ne;for(ne=0;ne<Ye.length;ne+=1){const tt=ir(B,Ye,ne);he[ne]?he[ne].p(tt,Be):(he[ne]=ar(tt),he[ne].c(),he[ne].m(I,null))}for(;ne<he.length;ne+=1)he[ne].d(1);he.length=Ye.length}},i(B){at||(_r(d.$$.fragment,B),at=!0)},o(B){Sr(d.$$.fragment,B),at=!1},d(B){B&&E(t),gr(d),B&&E(O),B&&E(D),wr(he,B),Pt=!1,$t()}}}function nn(e){const{form:t}=tn({initialValues:{alcoholLevel:40,bottleSize:70},onSubmit:async r=>{const n=`${kr}/rums`;fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then(s=>{console.log(s),Dr(or+"/rums")})}});return[t]}class cn extends mr{constructor(t){super(),pr(this,t,nn,rn,yr,{})}}export{cn as default};
