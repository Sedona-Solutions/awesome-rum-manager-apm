import{S as Ge,i as ze,s as Xe,k as T,q as X,a as A,y as J,l as b,m as R,r as K,h as S,c as P,z as Y,n as E,C as Vr,b as Ke,D as y,A as Q,u as Br,g as B,d as G,B as W,E as ar,F as Ze,G as re,H as Gr,I as zr,J as Xr,K as Kr}from"../chunks/index.2dec55bc.js";import{B as ge}from"../chunks/BootstrapIcon.84fe3d5d.js";import{e as oe}from"../chunks/singletons.1d32fb1e.js";import{p as sr}from"../chunks/stores.7ffb3958.js";function Jr(t){var r=window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");return t.indexOf(r)>-1&&(t=t.replace(r+"/","")),t}function Yr(t){return t===void 0&&(t=""),t==="<anonymous>"&&(t=""),t}function Qr(t){return t?window.location.href.indexOf(t)===0:!1}function Wr(t){return t.map(function(r){return r.functionName&&(r.functionName=Zr(r.functionName)),r})}function Zr(t){var r=t.split("/");return r.length>1?t=["Object",r[r.length-1]].join("."):t=r[0],t=t.replace(/.<$/gi,".<anonymous>"),t=t.replace(/^Anonymous function$/,"<anonymous>"),r=t.split("."),r.length>1?t=r[r.length-1]:t=r[0],t}function en(t){if(t.length===0)return!1;if(t.length===1){var r=t[0];return"lineNumber"in r}return!0}function tn(t,r){var i=r.error,e=r.filename,n=r.lineno,a=r.colno,s=[];if(i)try{s=t.parse(i)}catch{}en(s)||(s=[{fileName:e,lineNumber:n,columnNumber:a}]);var o=Wr(s);return o.map(function(c){var f=c.fileName,d=c.lineNumber,u=c.columnNumber,l=c.functionName,v=l===void 0?"<anonymous>":l;if(!f&&!d)return{};if(!u&&!d)return{};var h=Yr(f),p=Jr(h);return Qr(h)&&(p="(inline script)"),{abs_path:f,filename:p,function:v,lineno:d,colno:u}})}function rn(t){return t.filter(function(r){var i=r.filename,e=r.lineno;return typeof i<"u"&&typeof e<"u"})}function nn(t){var r=this.constructor;return this.then(function(i){return r.resolve(t()).then(function(){return i})},function(i){return r.resolve(t()).then(function(){return r.reject(i)})})}function an(t){var r=this;return new r(function(i,e){if(!(t&&typeof t.length<"u"))return e(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var n=Array.prototype.slice.call(t);if(n.length===0)return i([]);var a=n.length;function s(c,f){if(f&&(typeof f=="object"||typeof f=="function")){var d=f.then;if(typeof d=="function"){d.call(f,function(u){s(c,u)},function(u){n[c]={status:"rejected",reason:u},--a===0&&i(n)});return}}n[c]={status:"fulfilled",value:f},--a===0&&i(n)}for(var o=0;o<n.length;o++)s(o,n[o])})}function or(t,r){this.name="AggregateError",this.errors=t,this.message=r||""}or.prototype=Error.prototype;function sn(t){var r=this;return new r(function(i,e){if(!(t&&typeof t.length<"u"))return e(new TypeError("Promise.any accepts an array"));var n=Array.prototype.slice.call(t);if(n.length===0)return e();for(var a=[],s=0;s<n.length;s++)try{r.resolve(n[s]).then(i).catch(function(o){a.push(o),a.length===n.length&&e(new or(a,"All promises were rejected"))})}catch(o){e(o)}})}var on=setTimeout;function cr(t){return!!(t&&typeof t.length<"u")}function cn(){}function un(t,r){return function(){t.apply(r,arguments)}}function x(t){if(!(this instanceof x))throw new TypeError("Promises must be constructed via new");if(typeof t!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],fr(t,this)}function ur(t,r){for(;t._state===3;)t=t._value;if(t._state===0){t._deferreds.push(r);return}t._handled=!0,x._immediateFn(function(){var i=t._state===1?r.onFulfilled:r.onRejected;if(i===null){(t._state===1?it:Le)(r.promise,t._value);return}var e;try{e=i(t._value)}catch(n){Le(r.promise,n);return}it(r.promise,e)})}function it(t,r){try{if(r===t)throw new TypeError("A promise cannot be resolved with itself.");if(r&&(typeof r=="object"||typeof r=="function")){var i=r.then;if(r instanceof x){t._state=3,t._value=r,at(t);return}else if(typeof i=="function"){fr(un(i,r),t);return}}t._state=1,t._value=r,at(t)}catch(e){Le(t,e)}}function Le(t,r){t._state=2,t._value=r,at(t)}function at(t){t._state===2&&t._deferreds.length===0&&x._immediateFn(function(){t._handled||x._unhandledRejectionFn(t._value)});for(var r=0,i=t._deferreds.length;r<i;r++)ur(t,t._deferreds[r]);t._deferreds=null}function fn(t,r,i){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof r=="function"?r:null,this.promise=i}function fr(t,r){var i=!1;try{t(function(e){i||(i=!0,it(r,e))},function(e){i||(i=!0,Le(r,e))})}catch(e){if(i)return;i=!0,Le(r,e)}}x.prototype.catch=function(t){return this.then(null,t)};x.prototype.then=function(t,r){var i=new this.constructor(cn);return ur(this,new fn(t,r,i)),i};x.prototype.finally=nn;x.all=function(t){return new x(function(r,i){if(!cr(t))return i(new TypeError("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(e.length===0)return r([]);var n=e.length;function a(o,c){try{if(c&&(typeof c=="object"||typeof c=="function")){var f=c.then;if(typeof f=="function"){f.call(c,function(d){a(o,d)},i);return}}e[o]=c,--n===0&&r(e)}catch(d){i(d)}}for(var s=0;s<e.length;s++)a(s,e[s])})};x.any=sn;x.allSettled=an;x.resolve=function(t){return t&&typeof t=="object"&&t.constructor===x?t:new x(function(r){r(t)})};x.reject=function(t){return new x(function(r,i){i(t)})};x.race=function(t){return new x(function(r,i){if(!cr(t))return i(new TypeError("Promise.race accepts an array"));for(var e=0,n=t.length;e<n;e++)x.resolve(t[e]).then(r,i)})};x._immediateFn=typeof setImmediate=="function"&&function(t){setImmediate(t)}||function(t){on(t,0)};x._unhandledRejectionFn=function(r){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",r)};var Ve={};de?Ve=window:typeof self<"u"&&(Ve=self);var fe="Promise"in Ve?Ve.Promise:x,dr=[].slice,de=typeof window<"u",z=de&&typeof performance<"u"?performance:{};function dn(){var t=new window.XMLHttpRequest;return"withCredentials"in t}var lr=[];for(var De=0;De<256;++De)lr[De]=(De+256).toString(16).substr(1);function ln(t){for(var r=[],i=0;i<t.length;i++)r.push(lr[t[i]]);return r.join("")}var et=new Uint8Array(16);function vn(){return typeof crypto<"u"&&typeof crypto.getRandomValues=="function"?crypto.getRandomValues(et):typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"?msCrypto.getRandomValues(et):et}function Ee(t){var r=ln(vn());return r.substr(0,t)}function pn(t){var r="00",i="00",e="01";if(t&&t.traceId&&t.id&&t.parentId){var n=t.sampled?e:i,a=t.sampled?t.id:t.parentId;return r+"-"+t.traceId+"-"+a+"-"+n}}function hn(t){var r=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})$/.exec(t);if(r){var i=r[4],e=i!=="00";return{traceId:r[2],id:r[3],sampled:e}}}function gn(t){return/^[\da-f]{2}-[\da-f]{32}-[\da-f]{16}-[\da-f]{2}$/.test(t)&&t.slice(3,35)!=="00000000000000000000000000000000"&&t.slice(36,52)!=="0000000000000000"}function mn(t){var r=t.sampleRate;if(!(typeof r!="number"||String(r).length>256)){var i="es",e="=";return""+i+e+"s:"+r}}function Mt(t,r,i){typeof t.setRequestHeader=="function"?t.setRequestHeader(r,i):t.headers&&typeof t.headers.append=="function"?t.headers.append(r,i):t[r]=i}function st(t,r){var i=!1;return typeof r=="string"?i=t===r:r&&typeof r.test=="function"?i=r.test(t):Array.isArray(r)&&r.forEach(function(e){i||(i=st(t,e))}),i}function yn(){return de&&typeof Set=="function"&&typeof JSON.stringify=="function"&&z&&typeof z.now=="function"&&dn()}function vr(t,r,i){if(!(!i||!t)){var e=hr(t),n=typeof r;return r!=null&&n!=="boolean"&&n!=="number"&&(r=String(r)),i[e]=r,i}}function _n(t){t===void 0&&(t=[]);for(var r=[],i=", ",e=";",n=0;n<t.length;n++){var a=t[n],s=a.name,o=a.duration,c=a.description,f=s;c&&(f+=e+"desc="+c),o&&(f+=e+"dur="+o),r.push(f)}return r.join(i)}function pr(t){return t&&t.split("?")[0]}function tt(t){return t!==null&&typeof t=="object"}function Sn(t){return typeof t=="function"}function Et(t,r,i){for(var e=0,n=r.length;e<n;++e){var a=r[e];if(!(!tt(a)&&!Sn(a)))for(var s=Object.keys(a),o=0,c=s.length;o<c;o++){var f=s[o],d=a[f];i&&tt(d)?(tt(t[f])||(t[f]=Array.isArray(d)?[]:{}),Et(t[f],[d],!1)):t[f]=d}}return t}function En(){if(typeof document<"u")for(var t=document.getElementsByTagName("script"),r=0,i=t.length;r<i;r++){var e=t[r];if(e.src.indexOf("elastic")>0)return e}}function Tn(){if(typeof document<"u"){var t=document.currentScript;return t||En()}}function le(t){return Et(t,dr.call(arguments,1),!1)}function Je(t){return Et(t,dr.call(arguments,1),!0)}function ot(t){return typeof t>"u"}function Be(){}function hr(t){return t.replace(/[.*"]/g,"_")}function gr(t,r){for(var i=null,e=0;e<t.length;e++){var n=t[e];r&&r(n.type)&&(!i||i._end<n._end)&&(i=n)}return i}function bn(t){return gr(t,function(r){return String(r).indexOf("external")===-1})}function wn(t){return gr(t,function(r){return String(r).indexOf("external")!==-1})}function Rn(t){for(var r=t[0],i=1;i<t.length;i++){var e=t[i];r._start>e._start&&(r=e)}return r}function Te(){return z.now()}function ct(t){return typeof t=="number"&&t>=0?t:Te()}function mr(t,r){return ot(r)||ot(t)?null:parseInt(r-t)}function Ht(t){fe.resolve().then(t)}function yr(){return typeof z.getEntriesByType=="function"}function ut(t){return typeof PerformanceObserver<"u"&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.indexOf(t)>=0}function Nn(){var t="_elastic_inspect_beacon_";if(sessionStorage.getItem(t)!=null)return!0;if(!window.URL||!window.URLSearchParams)return!1;try{var r=new URL(window.location.href),i=r.searchParams.has(t);return i&&sessionStorage.setItem(t,!0),i}catch{}return!1}function Tt(t){return t.redirectStart>0}function On(t,r){switch(r){case"http:":return t==="80";case"https:":return t==="443"}return!0}var xn=[["#","hash"],["?","query"],["/","path"],["@","auth",1],[NaN,"host",void 0,1]],In=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,be=function(){function t(i){var e=this.extractProtocol(i||""),n=e.protocol,a=e.address,s=e.slashes,o=!n&&!s,c=this.getLocation(),f=xn.slice();a=a.replace("\\","/"),s||(f[2]=[NaN,"path"]);for(var d,u=0;u<f.length;u++){var l=f[u],v=l[0],h=l[1];if(typeof v=="string"){if(d=a.indexOf(v),~d){var p=l[2];if(p){var g=a.lastIndexOf(v);d=Math.max(d,g),this[h]=a.slice(0,d),a=a.slice(d+p)}else this[h]=a.slice(d),a=a.slice(0,d)}}else this[h]=a,a="";this[h]=this[h]||o&&l[3]&&c[h]||"",l[3]&&(this[h]=this[h].toLowerCase())}if(o&&this.path.charAt(0)!=="/"&&(this.path="/"+this.path),this.relative=o,this.protocol=n||c.protocol,this.hostname=this.host,this.port="",/:\d+$/.test(this.host)){var m=this.host.split(":"),w=m.pop(),_=m.join(":");On(w,this.protocol)?this.host=_:this.port=w,this.hostname=_}this.origin=this.protocol&&this.host&&this.protocol!=="file:"?this.protocol+"//"+this.host:"null",this.href=this.toString()}var r=t.prototype;return r.toString=function(){var e=this.protocol;if(e+="//",this.auth){var n="[REDACTED]",a=this.auth.split(":"),s=a[0]?n:"",o=a[1]?":"+n:"";e+=s+o+"@"}return e+=this.host,e+=this.path,e+=this.query,e+=this.hash,e},r.getLocation=function(){var e={};return de&&(e=window),e.location},r.extractProtocol=function(e){var n=In.exec(e);return{protocol:n[1]?n[1].toLowerCase():"",slashes:!!n[2],address:n[3]}},t}();function Cn(t,r){r===void 0&&(r=2);for(var i=new be(t),e=i.query,n=i.path,a=n.substring(1).split("/"),s=":id",o="*",c=/\W|_/g,f=/[0-9]/g,d=/[a-z]/g,u=/[A-Z]/g,l=[],v=!1,h=0;h<a.length;h++){var p=a[h];if(v||h>r-1){p&&l.push(o);break}var g=(p.match(c)||[]).length;if(g>=2){l.push(s),v=!0;continue}var m=(p.match(f)||[]).length;if(m>3||p.length>3&&m/p.length>=.3){l.push(s),v=!0;continue}var w=(p.match(u)||[]).length,_=(p.match(d)||[]).length,I=_/p.length,M=w/p.length;if(p.length>5&&(M>.3&&M<.6||I>.3&&I<.6)){l.push(s),v=!0;continue}p&&l.push(p)}var N="/"+(l.length>=2?l.join("/"):l.join(""))+(e?"?{query}":"");return N}var me="schedule",ie="invoke",jt="addEventListener",Ln=["link","css","script","img","xmlhttprequest","fetch","beacon","iframe"],An=5e3,rt=5*60*1e3,_r=1e3,j="page-load",Pn="route-change",Sr="custom",Er="user-interaction",ft="http-request",dt="temporary",Ue="Unknown",Dt=[j,Pn,Er,ft,Sr,dt],$n="success",kn="failure",Fn="unknown",Mn=60,Hn="transaction:start",Tr="transaction:end",br="config:change",lt="queue:flush",wr="queue:add_transaction",ye="xmlhttprequest",_e="fetch",Se="history",Rr="eventtarget",Nr="click",Or="error",jn=":before",xr=":after",Ut="elastic_apm_config",Ae="longtask",Dn="paint",Un="measure",qn="navigation",Vn="resource",Bn="first-contentful-paint",Ir="largest-contentful-paint",bt="first-input",vt="layout-shift",Ne="errors",Oe="transactions",k="ConfigService",ae="LoggingService",ce="TransactionService",ke="ApmServer",Cr="PerformanceMonitoring",pt="ErrorLogging",wt=".truncated",F=1024,Gn=30*6e4,Lr=1e4,zn=["tags"];function Xn(t,r){if(t==null)return{};var i={},e=Object.keys(t),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(i[n]=t[n]);return i}var Kn=91,Jn=93,Yn="external",Qn="resource",Wn="hard-navigation";function Zn(t,r){return t===""&&(t=r==="http:"?"80":r==="https:"?"443":""),t}function Ar(t){var r=t.transferSize,i=t.encodedBodySize,e=t.decodedBodySize,n=t.serverTiming,a={transfer_size:r,encoded_body_size:i,decoded_body_size:e},s=_n(n);return s&&(a.headers={"server-timing":s}),a}function Rt(t){var r=t.port,i=t.protocol,e=t.hostname,n=Zn(r,i),a=e.charCodeAt(0)===Kn&&e.charCodeAt(e.length-1)===Jn,s=e;return a&&(s=e.slice(1,-1)),{service:{resource:e+":"+n,name:"",type:""},address:s,port:Number(n)}}function ei(t){var r=t.entry,i=t.url,e=new be(i),n=Rt(e);return{http:{url:i,response:Ar(r)},destination:n}}function ti(t){var r=t.url,i=t.method,e=t.target,n=t.response,a=new be(r),s=Rt(a),o={http:{method:i,url:a.href},destination:s},c;return e&&typeof e.status<"u"?c=e.status:n&&(c=n.status),o.http.status_code=c,o}function ri(t){var r=t.url,i=new be(r),e=Rt(i);return{destination:e}}function Pr(){return{page:{referer:document.referrer,url:location.href}}}function ni(t,r){if(r){var i=t.type,e;switch(i){case Yn:e=ti(r);break;case Qn:e=ei(r);break;case Wn:e=ri(r);break}t.addContext(e)}}function ii(t,r){var i=r===void 0?{}:r;i.tags;var e=Xn(i,zn),n=Pr(),a={};if(t.type===j&&yr()){var s=z.getEntriesByType(qn);s&&s.length>0&&(a={response:Ar(s[0])})}t.addContext(n,a,e)}var ai={service:{name:[F,!0],version:!0,agent:{version:[F,!0]},environment:!0},labels:{"*":!0}},qt={"*":!0,headers:{"*":!0}},si={address:[F],service:{"*":[F,!0]}},Nt={user:{id:!0,email:!0,username:!0},tags:{"*":!0},http:{response:qt},destination:si,response:qt},oi={name:[F,!0],type:[F,!0],id:[F,!0],trace_id:[F,!0],parent_id:[F,!0],transaction_id:[F,!0],subtype:!0,action:!0,context:Nt},ci={name:!0,parent_id:!0,type:[F,!0],id:[F,!0],trace_id:[F,!0],span_count:{started:[F,!0]},context:Nt},ui={id:[F,!0],trace_id:!0,transaction_id:!0,parent_id:!0,culprit:!0,exception:{type:!0},transaction:{type:!0},context:Nt};function fi(t,r,i,e){return r===void 0&&(r=F),i===void 0&&(i=!1),e===void 0&&(e="N/A"),i&&$r(t)&&(t=e),typeof t=="string"?t.substring(0,r):t}function $r(t){return t==null||t===""||typeof t>"u"}function Vt(t,r,i){var e=fi(t[r],i[0],i[1]);if($r(e)){delete t[r];return}t[r]=e}function Pe(t,r,i){t===void 0&&(t={}),i===void 0&&(i=r);for(var e=Object.keys(t),n=[],a=function(c){var f=e[c],d=t[f]===!0?n:t[f];Array.isArray(d)?f==="*"?Object.keys(i).forEach(function(u){return Vt(i,u,d)}):Vt(i,f,d):Pe(d,r,i[f])},s=0;s<e.length;s++)a(s);return r}var kr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function di(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fr={exports:{}},nt={exports:{}},Bt;function li(){return Bt||(Bt=1,function(t,r){(function(i,e){t.exports=e()})(kr,function(){function i(n){return!isNaN(parseFloat(n))&&isFinite(n)}function e(n,a,s,o,c,f){n!==void 0&&this.setFunctionName(n),a!==void 0&&this.setArgs(a),s!==void 0&&this.setFileName(s),o!==void 0&&this.setLineNumber(o),c!==void 0&&this.setColumnNumber(c),f!==void 0&&this.setSource(f)}return e.prototype={getFunctionName:function(){return this.functionName},setFunctionName:function(n){this.functionName=String(n)},getArgs:function(){return this.args},setArgs:function(n){if(Object.prototype.toString.call(n)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=n},getFileName:function(){return this.fileName},setFileName:function(n){this.fileName=String(n)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(n){if(!i(n))throw new TypeError("Line Number must be a Number");this.lineNumber=Number(n)},getColumnNumber:function(){return this.columnNumber},setColumnNumber:function(n){if(!i(n))throw new TypeError("Column Number must be a Number");this.columnNumber=Number(n)},getSource:function(){return this.source},setSource:function(n){this.source=String(n)},toString:function(){var n=this.getFunctionName()||"{anonymous}",a="("+(this.getArgs()||[]).join(",")+")",s=this.getFileName()?"@"+this.getFileName():"",o=i(this.getLineNumber())?":"+this.getLineNumber():"",c=i(this.getColumnNumber())?":"+this.getColumnNumber():"";return n+a+s+o+c}},e})}(nt)),nt.exports}(function(t,r){(function(i,e){t.exports=e(li())})(kr,function(e){var n=/(^|@)\S+\:\d+/,a=/^\s*at .*(\S+\:\d+|\(native\))/m,s=/^(eval@)?(\[native code\])?$/;function o(d,u,l){if(typeof Array.prototype.map=="function")return d.map(u,l);for(var v=new Array(d.length),h=0;h<d.length;h++)v[h]=u.call(l,d[h]);return v}function c(d,u,l){if(typeof Array.prototype.filter=="function")return d.filter(u,l);for(var v=[],h=0;h<d.length;h++)u.call(l,d[h])&&v.push(d[h]);return v}function f(d,u){if(typeof Array.prototype.indexOf=="function")return d.indexOf(u);for(var l=0;l<d.length;l++)if(d[l]===u)return l;return-1}return{parse:function(u){if(typeof u.stacktrace<"u"||typeof u["opera#sourceloc"]<"u")return this.parseOpera(u);if(u.stack&&u.stack.match(a))return this.parseV8OrIE(u);if(u.stack)return this.parseFFOrSafari(u);throw new Error("Cannot parse given Error object")},extractLocation:function(u){if(u.indexOf(":")===-1)return[u];var l=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/,v=l.exec(u.replace(/[\(\)]/g,""));return[v[1],v[2]||void 0,v[3]||void 0]},parseV8OrIE:function(u){var l=c(u.stack.split(`
`),function(v){return!!v.match(a)},this);return o(l,function(v){v.indexOf("(eval ")>-1&&(v=v.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var h=v.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),p=this.extractLocation(h.pop()),g=h.join(" ")||void 0,m=f(["eval","<anonymous>"],p[0])>-1?void 0:p[0];return new e(g,void 0,m,p[1],p[2],v)},this)},parseFFOrSafari:function(u){var l=c(u.stack.split(`
`),function(v){return!v.match(s)},this);return o(l,function(v){if(v.indexOf(" > eval")>-1&&(v=v.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),v.indexOf("@")===-1&&v.indexOf(":")===-1)return new e(v);var h=v.split("@"),p=this.extractLocation(h.pop()),g=h.join("@")||void 0;return new e(g,void 0,p[0],p[1],p[2],v)},this)},parseOpera:function(u){return!u.stacktrace||u.message.indexOf(`
`)>-1&&u.message.split(`
`).length>u.stacktrace.split(`
`).length?this.parseOpera9(u):u.stack?this.parseOpera11(u):this.parseOpera10(u)},parseOpera9:function(u){for(var l=/Line (\d+).*script (?:in )?(\S+)/i,v=u.message.split(`
`),h=[],p=2,g=v.length;p<g;p+=2){var m=l.exec(v[p]);m&&h.push(new e(void 0,void 0,m[2],m[1],void 0,v[p]))}return h},parseOpera10:function(u){for(var l=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,v=u.stacktrace.split(`
`),h=[],p=0,g=v.length;p<g;p+=2){var m=l.exec(v[p]);m&&h.push(new e(m[3]||void 0,void 0,m[2],m[1],void 0,v[p]))}return h},parseOpera11:function(u){var l=c(u.stack.split(`
`),function(v){return!!v.match(n)&&!v.match(/^Error created at/)},this);return o(l,function(v){var h=v.split("@"),p=this.extractLocation(h.pop()),g=h.shift()||"",m=g.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0,w;g.match(/\(([^\)]*)\)/)&&(w=g.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var _=w===void 0||w==="[arguments not available]"?void 0:w.split(",");return new e(m,_,p[0],p[1],p[2],v)},this)}}})})(Fr);var vi=Fr.exports;const pi=di(vi);var hi=["tags"];function gi(t,r){if(t==null)return{};var i={},e=Object.keys(t),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(i[n]=t[n]);return i}var mi=["stack","message"],Gt="Unhandled promise rejection: ";function yi(t){var r=!1,i={};if(Object.keys(t).forEach(function(e){if(!(mi.indexOf(e)>=0)){var n=t[e];if(!(n==null||typeof n=="function")){if(typeof n=="object"){if(typeof n.toISOString!="function")return;n=n.toISOString()}i[e]=n,r=!0}}}),r)return i}var _i=function(){function t(i,e,n){this._apmServer=i,this._configService=e,this._transactionService=n}var r=t.prototype;return r.createErrorDataModel=function(e){var n=tn(pi,e),a=rn(n),s="(inline script)",o=a[a.length-1];o&&o.filename&&(s=o.filename);var c=e.message,f=e.error,d=c,u="",l={};if(f&&typeof f=="object"){d=d||f.message,u=f.name;var v=yi(f);v&&(l.custom=v)}u||d&&d.indexOf(":")>-1&&(u=d.split(":")[0]);var h=this._transactionService.getCurrentTransaction(),p=h?h.context:{},g=this._configService.get("context");g.tags;var m=gi(g,hi),w=Pr(),_=Je({},w,p,m,l),I={id:Ee(),culprit:s,exception:{message:d,stacktrace:a,type:u},context:_};return h&&(I=le(I,{trace_id:h.traceId,parent_id:h.id,transaction_id:h.id,transaction:{type:h.type,sampled:h.sampled}})),Pe(ui,I)},r.logErrorEvent=function(e){if(!(typeof e>"u")){var n=this.createErrorDataModel(e);typeof n.exception.message>"u"||this._apmServer.addError(n)}},r.registerListeners=function(){var e=this;window.addEventListener("error",function(n){return e.logErrorEvent(n)}),window.addEventListener("unhandledrejection",function(n){return e.logPromiseEvent(n)})},r.logPromiseEvent=function(e){var n=e.reason;n==null&&(n="<no reason specified>");var a;if(typeof n.message=="string"){var s=n.name?n.name+": ":"";a={error:n,message:Gt+s+n.message}}else a=this._parseRejectReason(n);this.logErrorEvent(a)},r.logError=function(e){var n={};return typeof e=="string"?n.message=e:n.error=e,this.logErrorEvent(n)},r._parseRejectReason=function(e){var n={message:Gt};if(Array.isArray(e))n.message+="<object>";else if(typeof e=="object")try{n.message+=JSON.stringify(e),n.error=e}catch{n.message+="<object>"}else typeof e=="function"?n.message+="<function>":n.message+=e;return n},t}();const Si=_i;var Ei=function(){function t(i,e){e===void 0&&(e={}),this.onFlush=i,this.items=[],this.queueLimit=e.queueLimit||-1,this.flushInterval=e.flushInterval||0,this.timeoutId=void 0}var r=t.prototype;return r._setTimer=function(){var e=this;this.timeoutId=setTimeout(function(){return e.flush()},this.flushInterval)},r._clear=function(){typeof this.timeoutId<"u"&&(clearTimeout(this.timeoutId),this.timeoutId=void 0),this.items=[]},r.flush=function(){this.onFlush(this.items),this._clear()},r.add=function(e){this.items.push(e),this.queueLimit!==-1&&this.items.length>=this.queueLimit?this.flush():typeof this.timeoutId>"u"&&this._setTimer()},t}();const Ti=Ei;function bi(t,r,i){var e=this,n=i.limit,a=i.interval,s=0,o;return function(){return s++,typeof o>"u"&&(o=setTimeout(function(){s=0,o=void 0},a)),s>n&&typeof r=="function"?r.apply(e,arguments):t.apply(e,arguments)}}var wi=function(){function t(){}return t.stringify=function(i){return JSON.stringify(i)+`
`},t}();const xe=wi;var Mr=["fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"],Ri=["fs","ls","le","cs","ce","qs","rs","re","dl","di","ds","de","dc","es","ee"];function Ni(t){var r=Oi(t);return r==null?null:{navigationTiming:r,agent:{timeToFirstByte:r.responseStart,domInteractive:r.domInteractive,domComplete:r.domComplete}}}function Oi(t){var r=t.redirectStart,i=t.fetchStart,e=t.navigationStart,n=t.responseStart,a=t.responseEnd;if(i>=e&&n>=i&&a>=n){var s={};return Mr.forEach(function(o){var c=t[o];c&&c>=i&&(Tt(t)?s[o]=parseInt(c-r):s[o]=parseInt(c-i))}),s}return null}function xi(t){return t.map(function(r){return{ap:r.abs_path,f:r.filename,fn:r.function,li:r.lineno,co:r.colno}})}function Hr(t){return{ts:t.transfer_size,ebs:t.encoded_body_size,dbs:t.decoded_body_size}}function Ii(t){var r={},i=t.method,e=t.status_code,n=t.url,a=t.response;return r.url=n,i&&(r.mt=i),e&&(r.sc=e),a&&(r.r=Hr(a)),r}function ht(t){if(!t)return null;var r={},i=t.page,e=t.http,n=t.response,a=t.destination,s=t.user,o=t.custom;if(i&&(r.p={rf:i.referer,url:i.url}),e&&(r.h=Ii(e)),n&&(r.r=Hr(n)),a){var c=a.service;r.dt={se:{n:c.name,t:c.type,rc:c.resource},ad:a.address,po:a.port}}return s&&(r.u={id:s.id,un:s.username,em:s.email}),o&&(r.cu=o),r}function Ci(t){if(!t)return null;var r=Li(t.navigationTiming),i={nt:r,a:Ai(r,t.agent)};return i}function Li(t){if(!t)return null;var r={};return Ri.forEach(function(i,e){var n=Mr[e];r[i]=t[n]}),r}function Ai(t,r){var i={};if(t&&(i={fb:t.rs,di:t.di,dc:t.dc}),r){var e=r.firstContentfulPaint,n=r.largestContentfulPaint;e&&(i.fp=e),n&&(i.lp=n)}return Object.keys(i).length===0?null:i}function Pi(t){var r=t.service,i=t.labels,e=r.agent,n=r.language;return{se:{n:r.name,ve:r.version,a:{n:e.name,ve:e.version},la:{n:n.name},en:r.environment},l:i}}function $i(t){var r=t.spans.map(function(u){var l={id:u.id,n:u.name,t:u.type,s:u.start,d:u.duration,c:ht(u.context),o:u.outcome,sr:u.sample_rate};return u.parent_id!==t.id&&(l.pid=u.parent_id),u.sync===!0&&(l.sy=!0),u.subtype&&(l.su=u.subtype),u.action&&(l.ac=u.action),l}),i={id:t.id,tid:t.trace_id,n:t.name,t:t.type,d:t.duration,c:ht(t.context),k:Ci(t.marks),me:Fi(t.breakdown),y:r,yc:{sd:r.length},sm:t.sampled,sr:t.sample_rate,o:t.outcome};if(t.experience){var e=t.experience,n=e.cls,a=e.fid,s=e.tbt,o=e.longtask;i.exp={cls:n,fid:a,tbt:s,lt:o}}if(t.session){var c=t.session,f=c.id,d=c.sequence;i.ses={id:f,seq:d}}return i}function ki(t){var r=t.exception,i={id:t.id,cl:t.culprit,ex:{mg:r.message,st:xi(r.stacktrace),t:t.type},c:ht(t.context)},e=t.transaction;return e&&(i.tid=t.trace_id,i.pid=t.parent_id,i.xid=t.transaction_id,i.x={t:e.type,sm:e.sampled}),i}function Fi(t){return t.map(function(r){var i=r.span,e=r.samples;return{y:{t:i.type},sa:{ysc:{v:e["span.self_time.count"].value},yss:{v:e["span.self_time.sum.us"].value}}}})}function Mi(t,r){r===void 0&&(r="gzip");var i=typeof CompressionStream=="function";return new fe(function(e){if(!i||Nn())return e(t);var n=t.payload,a=t.headers,s=t.beforeSend,o=new Blob([n]).stream(),c=o.pipeThrough(new CompressionStream(r));return new Response(c).blob().then(function(f){return a["Content-Encoding"]=r,e({payload:f,headers:a,beforeSend:s})})})}var we={bootstrapTime:null,lastHiddenStart:Number.MIN_SAFE_INTEGER};function jr(t){return!(t===0||t>399&&t<600)}function gt(){return gt=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t},gt.apply(this,arguments)}var Hi=60*1e3;function ji(t,r){if(!Dr())return!1;var i="keepalive"in new Request("");if(!i)return!1;var e=Ui(r);return t==="POST"&&e<Hi}function Di(t,r,i){var e=i.keepalive,n=e===void 0?!1:e,a=i.timeout,s=a===void 0?Lr:a,o=i.payload,c=i.headers,f=i.sendCredentials,d={};if(typeof AbortController=="function"){var u=new AbortController;d.signal=u.signal,setTimeout(function(){return u.abort()},s)}var l;return window.fetch(r,gt({body:o,headers:c,method:t,keepalive:n,credentials:f?"include":"omit"},d)).then(function(v){return l=v,l.text()}).then(function(v){var h={url:r,status:l.status,responseText:v};if(!jr(l.status))throw h;return h})}function Dr(){return typeof window.fetch=="function"&&typeof window.Request=="function"}function Ui(t){return t?t instanceof Blob?t.size:new Blob([t]).size:0}var qe={fetchInProgress:!1};function Re(t){return"__apm_symbol__"+t}function qi(t){return t?t.writable===!1?!1:!(typeof t.get=="function"&&typeof t.set>"u"):!0}function Vi(t,r){t[Re("OriginalDelegate")]=r}function zt(t,r,i){for(var e=t;e&&!e.hasOwnProperty(r);)e=Object.getPrototypeOf(e);!e&&t[r]&&(e=t);var n=Re(r),a;if(e&&!(a=e[n])){a=e[n]=e[r];var s=e&&Object.getOwnPropertyDescriptor(e,r);if(qi(s)){var o=i(a,n,r);e[r]=function(){return o(this,arguments)},Vi(e[r],a)}}return a}var mt=Re("xhrIgnore"),Xt=Re("xhrSync"),Kt=Re("xhrURL"),Jt=Re("xhrMethod");function Yt(t,r,i){var e=i.timeout,n=e===void 0?HTTP_REQUEST_TIMEOUT:e,a=i.payload,s=i.headers,o=i.beforeSend,c=i.sendCredentials;return new fe(function(f,d){var u=new window.XMLHttpRequest;if(u[mt]=!0,u.open(t,r,!0),u.timeout=n,u.withCredentials=c,s)for(var l in s)s.hasOwnProperty(l)&&u.setRequestHeader(l,s[l]);u.onreadystatechange=function(){if(u.readyState===4){var h=u.status,p=u.responseText;jr(h)?f(u):d({url:r,status:h,responseText:p})}},u.onerror=function(){var h=u.status,p=u.responseText;d({url:r,status:h,responseText:p})};var v=!0;typeof o=="function"&&(v=o({url:r,method:t,headers:s,payload:a,xhr:u})),v?u.send(a):d({url:r,status:0,responseText:"Request rejected by user configuration."})})}var Bi=6e4,Gi=function(){function t(i,e){this._configService=i,this._loggingService=e,this.queue=void 0,this.throttleEvents=Be}var r=t.prototype;return r.init=function(){var e=this,n=this._configService.get("queueLimit"),a=this._configService.get("flushInterval"),s=this._configService.get("eventsLimit"),o=function(f){var d=e.sendEvents(f);d&&d.catch(function(u){e._loggingService.warn("Failed sending events!",e._constructError(u))})};this.queue=new Ti(o,{queueLimit:n,flushInterval:a}),this.throttleEvents=bi(this.queue.add.bind(this.queue),function(){return e._loggingService.warn("Dropped events due to throttling!")},{limit:s,interval:Bi}),this._configService.observeEvent(lt,function(){e.queue.flush()})},r._postJson=function(e,n){var a=this,s={"Content-Type":"application/x-ndjson"},o=this._configService.get("apmRequest"),c={payload:n,headers:s,beforeSend:o};return Mi(c).catch(function(f){return c}).then(function(f){return a._makeHttpRequest("POST",e,f)}).then(function(f){var d=f.responseText;return d})},r._constructError=function(e){var n=e.url,a=e.status;if(e.responseText,typeof a>"u")return e;var s=n+" HTTP status: "+a;return new Error(s)},r._makeHttpRequest=function(e,n,a){var s=a===void 0?{}:a,o=s.timeout,c=o===void 0?Lr:o,f=s.payload,d=s.headers,u=s.beforeSend,l=this._configService.get("sendCredentials");return!u&&ji(e,f)?Di(e,n,{keepalive:!0,timeout:c,payload:f,headers:d,sendCredentials:l}).catch(function(v){if(v instanceof TypeError)return Yt(e,n,{timeout:c,payload:f,headers:d,beforeSend:u,sendCredentials:l});throw v}):Yt(e,n,{timeout:c,payload:f,headers:d,beforeSend:u,sendCredentials:l})},r.fetchConfig=function(e,n){var a=this,s=this.getEndpoints(),o=s.configEndpoint;if(!e)return fe.reject("serviceName is required for fetching central config.");o+="?service.name="+e,n&&(o+="&service.environment="+n);var c=this._configService.getLocalConfig();c&&(o+="&ifnonematch="+c.etag);var f=this._configService.get("apmRequest");return this._makeHttpRequest("GET",o,{timeout:5e3,beforeSend:f}).then(function(d){var u=d.status,l=d.responseText;if(u===304)return c;var v=JSON.parse(l),h=d.getResponseHeader("etag");return h&&(v.etag=h.replace(/["]/g,""),a._configService.setLocalConfig(v,!0)),v}).catch(function(d){var u=a._constructError(d);return fe.reject(u)})},r.createMetaData=function(){var e=this._configService,n={service:{name:e.get("serviceName"),version:e.get("serviceVersion"),agent:{name:"rum-js",version:e.version},language:{name:"javascript"},environment:e.get("environment")},labels:e.get("context.tags")};return Pe(ai,n)},r.addError=function(e){var n;this.throttleEvents((n={},n[Ne]=e,n))},r.addTransaction=function(e){var n;this.throttleEvents((n={},n[Oe]=e,n))},r.ndjsonErrors=function(e,n){var a=n?"e":"error";return e.map(function(s){var o;return xe.stringify((o={},o[a]=n?ki(s):s,o))})},r.ndjsonMetricsets=function(e){return e.map(function(n){return xe.stringify({metricset:n})}).join("")},r.ndjsonTransactions=function(e,n){var a=this,s=n?"x":"transaction";return e.map(function(o){var c,f="",d="";return n||(o.spans&&(f=o.spans.map(function(u){return xe.stringify({span:u})}).join(""),delete o.spans),o.breakdown&&(d=a.ndjsonMetricsets(o.breakdown),delete o.breakdown)),xe.stringify((c={},c[s]=n?$i(o):o,c))+f+d})},r.sendEvents=function(e){var n,a;if(e.length!==0){for(var s=[],o=[],c=0;c<e.length;c++){var f=e[c];f[Oe]&&s.push(f[Oe]),f[Ne]&&o.push(f[Ne])}if(!(s.length===0&&o.length===0)){var d=this._configService,u=(n={},n[Oe]=s,n[Ne]=o,n),l=d.applyFilters(u);if(!l){this._loggingService.warn("Dropped payload due to filtering!");return}var v=d.get("apiVersion"),h=v>2,p=[],g=this.createMetaData(),m=h?"m":"metadata";p.push(xe.stringify((a={},a[m]=h?Pi(g):g,a))),p=p.concat(this.ndjsonErrors(l[Ne],h),this.ndjsonTransactions(l[Oe],h));var w=p.join(""),_=this.getEndpoints(),I=_.intakeEndpoint;return this._postJson(I,w)}}},r.getEndpoints=function(){var e=this._configService.get("serverUrl"),n=this._configService.get("apiVersion"),a=this._configService.get("serverUrlPrefix")||"/intake/v"+n+"/rum/events",s=e+a,o=e+"/config/v1/rum/agents";return{intakeEndpoint:s,configEndpoint:o}},t}();const zi=Gi;var Xi=function(){function t(){this.observers={}}var r=t.prototype;return r.observe=function(e,n){var a=this;if(typeof n=="function")return this.observers[e]||(this.observers[e]=[]),this.observers[e].push(n),function(){var s=a.observers[e].indexOf(n);s>-1&&a.observers[e].splice(s,1)}},r.sendOnly=function(e,n){var a=this.observers[e];a&&a.forEach(function(s){try{s.apply(void 0,n)}catch(o){console.log(o,o.stack)}})},r.send=function(e,n){this.sendOnly(e+jn,n),this.sendOnly(e,n),this.sendOnly(e+xr,n)},t}();const Ur=Xi;function yt(){return yt=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t},yt.apply(this,arguments)}function Ki(){var t=Tn(),r=Ji(t);return r}function Ji(t){if(!t)return{};for(var r={},i=/^data-([\w-]+)$/,e=t.attributes,n=0;n<e.length;n++){var a=e[n];if(i.test(a.nodeName)){var s=a.nodeName.match(i)[1],o=s.split("-").map(function(c,f){return f>0?c.charAt(0).toUpperCase()+c.substring(1):c}).join("");r[o]=a.value||a.nodeValue}}return r}var Yi=function(){function t(){this.config={serviceName:"",serviceVersion:"",environment:"",serverUrl:"http://localhost:8200",serverUrlPrefix:"",active:!0,instrument:!0,disableInstrumentations:[],logLevel:"warn",breakdownMetrics:!1,ignoreTransactions:[],eventsLimit:80,queueLimit:-1,flushInterval:500,distributedTracing:!0,distributedTracingOrigins:[],distributedTracingHeaderName:"traceparent",pageLoadTraceId:"",pageLoadSpanId:"",pageLoadSampled:!1,pageLoadTransactionName:"",propagateTracestate:!1,transactionSampleRate:1,centralConfig:!1,monitorLongtasks:!0,apiVersion:2,context:{},session:!1,apmRequest:null,sendCredentials:!1},this.events=new Ur,this.filters=[],this.version=""}var r=t.prototype;return r.init=function(){var e=Ki();this.setConfig(e)},r.setVersion=function(e){this.version=e},r.addFilter=function(e){if(typeof e!="function")throw new Error("Argument to must be function");this.filters.push(e)},r.applyFilters=function(e){for(var n=0;n<this.filters.length;n++)if(e=this.filters[n](e),!e)return;return e},r.get=function(e){return e.split(".").reduce(function(n,a){return n&&n[a]},this.config)},r.setUserContext=function(e){e===void 0&&(e={});var n={},a=e,s=a.id,o=a.username,c=a.email;(typeof s=="number"||typeof s=="string")&&(n.id=s),typeof o=="string"&&(n.username=o),typeof c=="string"&&(n.email=c),this.config.context.user=le(this.config.context.user||{},n)},r.setCustomContext=function(e){e===void 0&&(e={}),this.config.context.custom=le(this.config.context.custom||{},e)},r.addLabels=function(e){var n=this;this.config.context.tags||(this.config.context.tags={});var a=Object.keys(e);a.forEach(function(s){return vr(s,e[s],n.config.context.tags)})},r.setConfig=function(e){e===void 0&&(e={});var n=e,a=n.transactionSampleRate,s=n.serverUrl;s&&(e.serverUrl=s.replace(/\/+$/,"")),ot(a)||(a<1e-4&&a>0&&(a=1e-4),e.transactionSampleRate=Math.round(a*1e4)/1e4),Je(this.config,e),this.events.send(br,[this.config])},r.validate=function(e){e===void 0&&(e={});var n=["serviceName","serverUrl"],a=Object.keys(this.config),s={missing:[],invalid:[],unknown:[]};Object.keys(e).forEach(function(c){n.indexOf(c)!==-1&&!e[c]&&s.missing.push(c),a.indexOf(c)===-1&&s.unknown.push(c)}),e.serviceName&&!/^[a-zA-Z0-9 _-]+$/.test(e.serviceName)&&s.invalid.push({key:"serviceName",value:e.serviceName,allowed:"a-z, A-Z, 0-9, _, -, <space>"});var o=e.transactionSampleRate;return typeof o<"u"&&(typeof o!="number"||isNaN(o)||o<0||o>1)&&s.invalid.push({key:"transactionSampleRate",value:o,allowed:"Number between 0 and 1"}),s},r.getLocalConfig=function(){var e=sessionStorage;this.config.session&&(e=localStorage);var n=e.getItem(Ut);if(n)return JSON.parse(n)},r.setLocalConfig=function(e,n){if(e){if(n){var a=this.getLocalConfig();e=yt({},a,e)}var s=sessionStorage;this.config.session&&(s=localStorage),s.setItem(Ut,JSON.stringify(e))}},r.dispatchEvent=function(e,n){this.events.send(e,n)},r.observeEvent=function(e,n){return this.events.observe(e,n)},t}();const Qi=Yi;var Wi=function(){function t(i){i===void 0&&(i={}),this.levels=["trace","debug","info","warn","error"],this.level=i.level||"warn",this.prefix=i.prefix||"",this.resetLogMethods()}var r=t.prototype;return r.shouldLog=function(e){return this.levels.indexOf(e)>=this.levels.indexOf(this.level)},r.setLevel=function(e){e!==this.level&&(this.level=e,this.resetLogMethods())},r.resetLogMethods=function(){var e=this;this.levels.forEach(function(n){e[n]=e.shouldLog(n)?a:Be;function a(){var s=n;(n==="trace"||n==="debug")&&(s="info");var o=arguments;if(o[0]=this.prefix+o[0],console){var c=console[s]||console.log;typeof c=="function"&&c.apply(console,o)}}})},t}();const Zi=Wi;var Ie,$e=(Ie={},Ie[k]=function(){return new Qi},Ie[ae]=function(){return new Zi({prefix:"[Elastic APM] "})},Ie[ke]=function(t){var r=t.getService([k,ae]),i=r[0],e=r[1];return new zi(i,e)},Ie),ea=function(){function t(){this.instances={},this.initialized=!1}var r=t.prototype;return r.init=function(){if(!this.initialized){this.initialized=!0;var e=this.getService(k);e.init();var n=this.getService([ae,ke]),a=n[0],s=n[1];e.events.observe(br,function(){var o=e.get("logLevel");a.setLevel(o)}),s.init()}},r.getService=function(e){var n=this;if(typeof e=="string")return this.instances[e]||typeof $e[e]=="function"&&(this.instances[e]=$e[e](this)),this.instances[e];if(Array.isArray(e))return e.map(function(a){return n.getService(a)})},t}();function ta(){$e[pt]=function(t){var r=t.getService([ke,k,ce]),i=r[0],e=r[1],n=r[2];return new Si(i,e,n)}}function ra(t){var r=XMLHttpRequest.prototype;if(!r||!r[jt])return;var i="readystatechange",e="load",n="error",a="timeout",s="abort";function o(u,l){u.state!==ie&&(u.state=ie,u.data.status=l,t(ie,u))}function c(u){if(u.state===me)return;u.state=me,t(me,u);var l=u.data.target;function v(h){l[jt](h,function(p){var g=p.type;if(g===i)l.readyState===4&&l.status!==0&&o(u,"success");else{var m=g===e?"success":g;o(u,m)}})}v(i),v(e),v(a),v(n),v(s)}var f=zt(r,"open",function(){return function(u,l){return u[mt]||(u[Jt]=l[0],u[Kt]=l[1],u[Xt]=l[2]===!1),f.apply(u,l)}}),d=zt(r,"send",function(){return function(u,l){if(u[mt])return d.apply(u,l);var v={source:ye,state:"",type:"macroTask",data:{target:u,method:u[Jt],sync:u[Xt],url:u[Kt],status:""}};try{return c(v),d.apply(u,l)}catch(h){throw o(v,n),h}}})}function na(t){if(!Dr())return;function r(s){s.state=me,t(me,s)}function i(s){s.state=ie,t(ie,s)}function e(s,o){s.data.aborted=ia(o),s.data.error=o,i(s)}function n(s,o){var c=s.getReader(),f=function d(){c.read().then(function(u){var l=u.done;l?i(o):d()},function(u){e(o,u)})};f()}var a=window.fetch;window.fetch=function(s,o){var c=this,f=arguments,d,u,l=s instanceof URL;if(typeof s=="string"||l)d=new Request(s,o),l?u=d.url:u=s;else if(s)d=s,u=d.url;else return a.apply(c,f);var v={source:_e,state:"",type:"macroTask",data:{target:d,method:d.method,url:u,aborted:!1}};return new fe(function(h,p){qe.fetchInProgress=!0,r(v);var g;try{g=a.apply(c,[d])}catch(m){p(m),v.data.error=m,i(v),qe.fetchInProgress=!1;return}g.then(function(m){var w=m.clone?m.clone():{};h(m),Ht(function(){v.data.response=m;var _=w.body;_?n(_,v):i(v)})},function(m){p(m),Ht(function(){e(v,m)})}),qe.fetchInProgress=!1})}}function ia(t){return t&&t.name==="AbortError"}function aa(t){if(window.history){var r=history.pushState;typeof r=="function"&&(history.pushState=function(i,e,n){var a={source:Se,data:{state:i,title:e,url:n}};t(ie,a),r.apply(this,arguments)})}}var ue=new Ur,Qt=!1;function sa(){return Qt||(Qt=!0,ra(function(t,r){ue.send(ye,[t,r])}),na(function(t,r){ue.send(_e,[t,r])}),aa(function(t,r){ue.send(Se,[t,r])})),ue}var oa=.05,ca=6e4;function ua(t,r,i){t.sort(function(a,s){return a._start-s._start});var e=[],n=1;return t.forEach(function(a,s){if(e.length===0)e.push(a);else{var o=e[e.length-1],c=o.type===a.type&&o.subtype===a.subtype&&o.action===a.action&&o.name===a.name&&a.duration()/r<i&&(a._start-o._end)/r<i,f=t.length===s+1;c&&(n++,o._end=a._end),n>1&&(!c||f)&&(o.name=n+"x "+o.name,n=1),c||e.push(a)}}),e}function fa(t){if(t.sampled){var r=t.spans.filter(function(n){return n.duration()>0&&n._start>=t._start&&n._end<=t._end});if(t.isManaged()){var i=t.duration(),e=ua(r,i,oa);t.spans=e}else t.spans=r}else t.resetFields();return t}var da=function(){function t(i,e,n,a){this._apmServer=i,this._configService=e,this._logginService=n,this._transactionService=a}var r=t.prototype;return r.init=function(e){var n=this;e===void 0&&(e={}),this._configService.events.observe(Tr+xr,function(a){var s=n.createTransactionPayload(a);s&&(n._apmServer.addTransaction(s),n._configService.dispatchEvent(wr))}),e[Se]&&ue.observe(Se,this.getHistorySub()),e[ye]&&ue.observe(ye,this.getXHRSub()),e[_e]&&ue.observe(_e,this.getFetchSub())},r.getHistorySub=function(){var e=this._transactionService;return function(n,a){a.source===Se&&n===ie&&e.startTransaction(a.data.title,"route-change",{managed:!0,canReuse:!0})}},r.getXHRSub=function(){var e=this;return function(n,a){a.source===ye&&!qe.fetchInProgress&&e.processAPICalls(n,a)}},r.getFetchSub=function(){var e=this;return function(n,a){a.source===_e&&e.processAPICalls(n,a)}},r.processAPICalls=function(e,n){var a=this._configService,s=this._transactionService;if(n.data&&n.data.url){var o=this._apmServer.getEndpoints(),c=Object.keys(o).some(function(H){return n.data.url.indexOf(o[H])!==-1});if(c)return}if(e===me&&n.data){var f=n.data,d=new be(f.url),u=f.method+" "+(d.relative?d.path:pr(d.href));s.getCurrentTransaction()||s.startTransaction(u,ft,{managed:!0});var l=s.startSpan(u,"external.http",{blocking:!0});if(!l)return;var v=a.get("distributedTracing"),h=a.get("distributedTracingOrigins"),p=new be(window.location.href),g=st(d.origin,p.origin)||st(d.origin,h),m=f.target;if(v&&g&&m){this.injectDtHeader(l,m);var w=a.get("propagateTracestate");w&&this.injectTSHeader(l,m)}f.sync&&(l.sync=f.sync),f.span=l}else if(e===ie){var _=n.data;if(_&&_.span){var I=_.span,M=_.response,N=_.target,O;M?O=M.status:O=N.status;var $;_.status!="abort"&&!_.aborted?O>=400||O==0?$=kn:$=$n:$=Fn,I.outcome=$;var V=s.getCurrentTransaction();V&&V.type===ft&&(V.outcome=$),s.endSpan(I,_)}}},r.injectDtHeader=function(e,n){var a=this._configService.get("distributedTracingHeaderName"),s=pn(e),o=gn(s);o&&s&&a&&Mt(n,a,s)},r.injectTSHeader=function(e,n){var a=mn(e);a&&Mt(n,"tracestate",a)},r.extractDtHeader=function(e){var n=this._configService,a=n.get("distributedTracingHeaderName");if(e)return hn(e[a])},r.filterTransaction=function(e){var n=e.duration();return!(!n||e.isManaged()&&(n>ca||e.sampled&&e.spans.length===0))},r.createTransactionDataModel=function(e){var n=e._start,a=e.spans.map(function(o){var c={id:o.id,transaction_id:e.id,parent_id:o.parentId||e.id,trace_id:e.traceId,name:o.name,type:o.type,subtype:o.subtype,action:o.action,sync:o.sync,start:parseInt(o._start-n),duration:o.duration(),context:o.context,outcome:o.outcome,sample_rate:o.sampleRate};return Pe(oi,c)}),s={id:e.id,trace_id:e.traceId,session:e.session,name:e.name,type:e.type,duration:e.duration(),spans:a,context:e.context,marks:e.marks,breakdown:e.breakdownTimings,span_count:{started:a.length},sampled:e.sampled,sample_rate:e.sampleRate,experience:e.experience,outcome:e.outcome};return Pe(ci,s)},r.createTransactionPayload=function(e){var n=fa(e),a=this.filterTransaction(n);if(a)return this.createTransactionDataModel(e)},t}(),la=function(){function t(i,e,n){n===void 0&&(n={}),i||(i=Ue),e||(e=Sr),this.name=i,this.type=e,this.options=n,this.id=n.id||Ee(16),this.traceId=n.traceId,this.sampled=n.sampled,this.sampleRate=n.sampleRate,this.timestamp=n.timestamp,this._start=ct(n.startTime),this._end=void 0,this.ended=!1,this.outcome=void 0,this.onEnd=n.onEnd}var r=t.prototype;return r.ensureContext=function(){this.context||(this.context={})},r.addLabels=function(e){this.ensureContext();var n=this.context;n.tags||(n.tags={});var a=Object.keys(e);a.forEach(function(s){return vr(s,e[s],n.tags)})},r.addContext=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];n.length!==0&&(this.ensureContext(),Je.apply(void 0,[this.context].concat(n)))},r.end=function(e){this.ended||(this.ended=!0,this._end=ct(e),this.callOnEnd())},r.callOnEnd=function(){typeof this.onEnd=="function"&&this.onEnd(this)},r.duration=function(){return mr(this._start,this._end)},t}();const qr=la;function va(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,_t(t,r)}function _t(t,r){return _t=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},_t(t,r)}var pa=function(t){va(r,t);function r(e,n,a){var s;if(s=t.call(this,e,n,a)||this,s.parentId=s.options.parentId,s.subtype=void 0,s.action=void 0,s.type.indexOf(".")!==-1){var o=s.type.split(".",3);s.type=o[0],s.subtype=o[1],s.action=o[2]}return s.sync=s.options.sync,s}var i=r.prototype;return i.end=function(n,a){t.prototype.end.call(this,n),ni(this,a)},r}(qr);const ve=pa;var Wt=[["domainLookupStart","domainLookupEnd","DNS"],["connectStart","connectEnd","TCP"],["requestStart","responseStart","Request"],["responseStart","responseEnd","Response"],["domLoading","domComplete","Processing"],["loadEventStart","loadEventEnd","Load"]];function Zt(t){return{value:t}}function ha(t){var r=t.spans,i=t._start,e=t._end;if(r.length===0)return t.duration();r.sort(function(d,u){return d._start-u._start});for(var n=r[0],a=n._end,s=n._start,o=a,c=s-i,f=1;f<r.length;f++)n=r[f],s=n._start,a=n._end,s>o?(c+=s-o,o=a):a>o&&(o=a);return o<e&&(c+=e-o),c}function ga(t){var r={},i=ha(t);r.app={count:1,duration:i};for(var e=t.spans,n=0;n<e.length;n++){var a=e[n],s=a.duration();if(!(s===0||s==null)){var o=a.type,c=a.subtype,f=o.replace(wt,"");c&&(f+="."+c),r[f]||(r[f]={duration:0,count:0}),r[f].count++,r[f].duration+=s}}return r}function er(t,r){var i=r.details,e=r.count,n=e===void 0?1:e,a=r.duration;return{transaction:t,span:i,samples:{"span.self_time.count":Zt(n),"span.self_time.sum.us":Zt(a*1e3)}}}function ma(t,r){r===void 0&&(r=z.timing);var i=[],e=t.name,n=t.type,a=t.sampled,s={name:e,type:n};if(!a)return i;if(n===j&&r)for(var o=0;o<Wt.length;o++){var c=Wt[o],f=r[c[0]],d=r[c[1]],u=mr(f,d);u===0||u==null||i.push(er(s,{details:{type:c[2]},duration:u}))}else{var l=ga(t);Object.keys(l).forEach(function(v){var h=v.split("."),p=h[0],g=h[1],m=l[v],w=m.duration,_=m.count;i.push(er(s,{details:{type:p,subtype:g},duration:w,count:_}))})}return i}function ya(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,St(t,r)}function St(t,r){return St=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},St(t,r)}var _a=function(t){ya(r,t);function r(e,n,a){var s;return s=t.call(this,e,n,a)||this,s.traceId=Ee(),s.marks=void 0,s.spans=[],s._activeSpans={},s._activeTasks=new Set,s.blocked=!1,s.captureTimings=!1,s.breakdownTimings=[],s.sampleRate=s.options.transactionSampleRate,s.sampled=Math.random()<=s.sampleRate,s}var i=r.prototype;return i.addMarks=function(n){this.marks=Je(this.marks||{},n)},i.mark=function(n){var a=hr(n),s=Te()-this._start,o={};o[a]=s,this.addMarks({custom:o})},i.canReuse=function(){var n=this.options.reuseThreshold||An;return!!this.options.canReuse&&!this.ended&&Te()-this._start<n},i.redefine=function(n,a,s){n&&(this.name=n),a&&(this.type=a),s&&(this.options.reuseThreshold=s.reuseThreshold,le(this.options,s))},i.startSpan=function(n,a,s){var o=this;if(!this.ended){var c=le({},s);c.onEnd=function(d){o._onSpanEnd(d)},c.traceId=this.traceId,c.sampled=this.sampled,c.sampleRate=this.sampleRate,c.parentId||(c.parentId=this.id);var f=new ve(n,a,c);return this._activeSpans[f.id]=f,c.blocking&&this.addTask(f.id),f}},i.isFinished=function(){return!this.blocked&&this._activeTasks.size===0},i.detectFinish=function(){this.isFinished()&&this.end()},i.end=function(n){if(!this.ended){this.ended=!0,this._end=ct(n);for(var a in this._activeSpans){var s=this._activeSpans[a];s.type=s.type+wt,s.end(n)}this.callOnEnd()}},i.captureBreakdown=function(){this.breakdownTimings=ma(this)},i.block=function(n){this.blocked=n,this.blocked||this.detectFinish()},i.addTask=function(n){return n||(n="task-"+Ee(16)),this._activeTasks.add(n),n},i.removeTask=function(n){var a=this._activeTasks.delete(n);a&&this.detectFinish()},i.resetFields=function(){this.spans=[],this.sampleRate=0},i._onSpanEnd=function(n){this.spans.push(n),delete this._activeSpans[n.id],this.removeTask(n.id)},i.isManaged=function(){return!!this.options.managed},r}(qr);const tr=_a;var C={fid:0,fcp:0,tbt:{start:1/0,duration:0},cls:{score:0,firstEntryTime:Number.NEGATIVE_INFINITY,prevEntryTime:Number.NEGATIVE_INFINITY,currentSessionScore:0},longtask:{count:0,duration:0,max:0}},Sa=50;function Ea(t,r){for(var i=[],e=0;e<t.length;e++){var n=t[e],a=n.name,s=n.startTime,o=n.duration,c=n.attribution,f=s+o,d=new ve("Longtask("+a+")",Ae,{startTime:s});if(r.count++,r.duration+=o,r.max=Math.max(o,r.max),c.length>0){var u=c[0],l=u.name,v=u.containerType,h=u.containerName,p=u.containerId,g={attribution:l,type:v};h&&(g.name=h),p&&(g.id=p),d.addContext({custom:g})}d.end(f),i.push(d)}return i}function Ta(t){var r=t[0];if(r){var i=r.startTime,e=r.processingStart,n=new ve("First Input Delay",bt,{startTime:i});return n.end(e),n}}function ba(t){var r=t.start,i=t.duration,e=new ve("Total Blocking Time",Ae,{startTime:r});return e.end(r+i),e}function wa(t){t.forEach(function(r){var i=r.name,e=r.startTime,n=r.duration;if(!(e<C.fcp)&&!(i!=="self"&&i.indexOf("same-origin")===-1)){C.tbt.start=Math.min(C.tbt.start,e);var a=n-Sa;a>0&&(C.tbt.duration+=a)}})}function Ra(t){t.forEach(function(r){if(!r.hadRecentInput&&r.value){var i=r.startTime-C.cls.firstEntryTime>5e3||r.startTime-C.cls.prevEntryTime>1e3;i&&(C.cls.firstEntryTime=r.startTime,C.cls.currentSessionScore=0),C.cls.prevEntryTime=r.startTime,C.cls.currentSessionScore+=r.value,C.cls.score=Math.max(C.cls.score,C.cls.currentSessionScore)}})}function Na(t,r){var i=r.isHardNavigation,e=r.trStart,n=t.getEntriesByType(Ae).filter(function(m){return m.startTime>=e}),a=Ea(n,C.longtask),s={spans:a,marks:{}};if(!i)return s;var o=t.getEntriesByType(Ir),c=o[o.length-1];if(c){var f=parseInt(c.startTime);C.lcp=f,s.marks.largestContentfulPaint=f}var d=z.timing,u=d.fetchStart-d.navigationStart;Tt(d)&&(u=0);var l=t.getEntriesByName(Bn)[0];if(l){var v=parseInt(u>=0?l.startTime-u:l.startTime);C.fcp=v,s.marks.firstContentfulPaint=v}var h=t.getEntriesByType(bt),p=Ta(h);p&&(C.fid=p.duration(),s.spans.push(p)),wa(n);var g=t.getEntriesByType(vt);return Ra(g),s}var Oa=function(){function t(i){this.po={observe:Be,disconnect:Be},window.PerformanceObserver&&(this.po=new PerformanceObserver(i))}var r=t.prototype;return r.start=function(e){try{if(!ut(e))return;this.po.observe({type:e,buffered:!0})}catch{}},r.stop=function(){this.po.disconnect()},t}();function Ot(t,r,i,e,n){return n===void 0&&(n=0),typeof t=="number"&&typeof r=="number"&&t>=n&&r>t&&t-n>=i&&r-n<=e&&r-t<rt&&t-n<rt&&r-n<rt}var Ce=[["redirectStart","redirectEnd","Redirect"],["domainLookupStart","domainLookupEnd","Domain lookup"],["connectStart","connectEnd","Making a connection to the server"],["requestStart","responseEnd","Requesting and receiving the document"],["domLoading","domInteractive","Parsing the document, executing sync. scripts"],["domContentLoadedEventStart","domContentLoadedEventEnd",'Fire "DOMContentLoaded" event'],["loadEventStart","loadEventEnd",'Fire "load" event']];function xa(t,r,i,e){for(var n=[],a=0;a<Ce.length;a++){var s=t[Ce[a][0]],o=t[Ce[a][1]];if(Ot(s,o,i,e,r)){var c=new ve(Ce[a][2],"hard-navigation.browser-timing"),f=null;Ce[a][0]==="requestStart"&&(c.pageResponse=!0,f={url:location.origin}),c._start=s-r,c.end(o-r,f),n.push(c)}}return n}function Ia(t,r,i){for(var e=[],n=0;n<t.length;n++){var a=t[n],s=a.name,o=a.startTime,c=a.duration,f=o+c;if(!(c<=Mn||!Ot(o,f,r,i))){var d="app",u=new ve(s,d);u._start=o,u.end(f),e.push(u)}}return e}function Ca(t){var r=t.name,i=t.initiatorType,e=t.startTime,n=t.responseEnd,a="resource";i&&(a+="."+i);var s=pr(r),o=new ve(s,a);return o._start=e,o.end(n,{url:r,entry:t}),o}function La(t,r){return r!=null&&t>r}function Aa(t){return/intake\/v\d+\/rum\/events/.test(t)}function Pa(t,r,i,e){for(var n=[],a=0;a<t.length;a++){var s=t[a],o=s.initiatorType,c=s.name,f=s.startTime,d=s.responseEnd;Ln.indexOf(o)===-1||c==null||(o==="xmlhttprequest"||o==="fetch")&&(Aa(c)||La(f,r))||Ot(f,d,i,e)&&n.push(Ca(t[a]))}return n}function $a(t){if(!t.captureTimings){t.type===j&&(t._start=0);return}var r=t._end;if(t.type===j){if(t.marks&&t.marks.custom){var i=t.marks.custom;Object.keys(i).forEach(function(f){i[f]+=t._start})}var e=0;t._start=e;var n=z.timing,a=Tt(n)?n.redirectStart:n.fetchStart;xa(n,a,e,r).forEach(function(f){f.traceId=t.traceId,f.sampled=t.sampled,f.pageResponse&&t.options.pageLoadSpanId&&(f.id=t.options.pageLoadSpanId),t.spans.push(f)}),t.addMarks(Ni(n))}if(yr()){var s=t._start,o=z.getEntriesByType(Vn);Pa(o,we.bootstrapTime,s,r).forEach(function(f){return t.spans.push(f)});var c=z.getEntriesByType(Un);Ia(c,s,r).forEach(function(f){return t.spans.push(f)})}}var ka=function(){function t(i,e){var n=this;this._config=e,this._logger=i,this.currentTransaction=void 0,this.respIntervalId=void 0,this.recorder=new Oa(function(a){var s=n.getCurrentTransaction();if(s&&s.captureTimings){var o,c=s.type===j,f=Na(a,{isHardNavigation:c,trStart:c?0:s._start}),d=f.spans,u=f.marks;(o=s.spans).push.apply(o,d),s.addMarks({agent:u})}})}var r=t.prototype;return r.createCurrentTransaction=function(e,n,a){var s=new tr(e,n,a);return this.currentTransaction=s,s},r.getCurrentTransaction=function(){if(this.currentTransaction&&!this.currentTransaction.ended)return this.currentTransaction},r.createOptions=function(e){var n=this._config.config,a={transactionSampleRate:n.transactionSampleRate},s=le(a,e);return s.managed&&(s=le({pageLoadTraceId:n.pageLoadTraceId,pageLoadSampled:n.pageLoadSampled,pageLoadSpanId:n.pageLoadSpanId,pageLoadTransactionName:n.pageLoadTransactionName},s)),s},r.startManagedTransaction=function(e,n,a){var s=this.getCurrentTransaction(),o=!1;if(!s)s=this.createCurrentTransaction(e,n,a);else if(s.canReuse()&&a.canReuse){var c=s.type,f=Dt.indexOf(s.type),d=Dt.indexOf(n);f>=0&&d<f&&(c=n),s.redefine(e,c,a),o=!0}else s.end(),s=this.createCurrentTransaction(e,n,a);return s.type===j&&(o||(this.recorder.start(Ir),this.recorder.start(Dn),this.recorder.start(bt),this.recorder.start(vt)),a.pageLoadTraceId&&(s.traceId=a.pageLoadTraceId),a.pageLoadSampled&&(s.sampled=a.pageLoadSampled),s.name===Ue&&a.pageLoadTransactionName&&(s.name=a.pageLoadTransactionName)),!o&&this._config.get("monitorLongtasks")&&this.recorder.start(Ae),s.sampled&&(s.captureTimings=!0),s},r.startTransaction=function(e,n,a){var s=this,o=this.createOptions(a),c,f=!0;if(o.managed){var d=this.currentTransaction;c=this.startManagedTransaction(e,n,o),d===c&&(f=!1)}else c=new tr(e,n,o);return c.onEnd=function(){return s.handleTransactionEnd(c)},f&&this._config.events.send(Hn,[c]),c},r.handleTransactionEnd=function(e){var n=this;this.recorder.stop();var a=window.location.href;return fe.resolve().then(function(){var s=e.name,o=e.type,c=we.lastHiddenStart;if(!(c>=e._start)&&!(n.shouldIgnoreTransaction(s)||o===dt)){if(o===j){var f=n._config.get("pageLoadTransactionName");if(s===Ue&&f&&(e.name=f),e.captureTimings){var d=C.cls,u=C.fid,l=C.tbt,v=C.longtask;l.duration>0&&e.spans.push(ba(l)),e.experience={},ut(Ae)&&(e.experience.tbt=l.duration),ut(vt)&&(e.experience.cls=d.score),u>0&&(e.experience.fid=u),v.count>0&&(e.experience.longtask={count:v.count,sum:v.duration,max:v.max})}n.setSession(e)}e.name===Ue&&(e.name=Cn(a)),$a(e),n.adjustTransactionTime(e);var h=n._config.get("breakdownMetrics");h&&e.captureBreakdown();var p=n._config.get("context");ii(e,p),n._config.events.send(Tr,[e])}},function(s){})},r.setSession=function(e){var n=this._config.get("session");if(n){typeof n=="boolean"?e.session={id:Ee(16),sequence:1}:n.timestamp&&Date.now()-n.timestamp>Gn?e.session={id:Ee(16),sequence:1}:e.session={id:n.id,sequence:n.sequence?n.sequence+1:1};var a={session:{id:e.session.id,sequence:e.session.sequence,timestamp:Date.now()}};this._config.setConfig(a),this._config.setLocalConfig(a,!0)}},r.adjustTransactionTime=function(e){var n=e.spans,a=Rn(n);a&&a._start<e._start&&(e._start=a._start);var s=bn(n)||{},o=s._end||0;if(e.type===j){var c=e._end-_r,f=C.lcp||0,d=wn(n)||{},u=d._end||0;e._end=Math.max(o,u,f,c)}else o>e._end&&(e._end=o);this.truncateSpans(n,e._end)},r.truncateSpans=function(e,n){for(var a=0;a<e.length;a++){var s=e[a];s._end>n&&(s._end=n,s.type+=wt),s._start>n&&(s._start=n)}},r.shouldIgnoreTransaction=function(e){var n=this._config.get("ignoreTransactions");if(n&&n.length)for(var a=0;a<n.length;a++){var s=n[a];if(typeof s.test=="function"){if(s.test(e))return!0}else if(s===e)return!0}return!1},r.startSpan=function(e,n,a){var s=this.getCurrentTransaction();s||(s=this.createCurrentTransaction(void 0,dt,this.createOptions({canReuse:!0,managed:!0})));var o=s.startSpan(e,n,a);return o},r.endSpan=function(e,n){e&&e.end(null,n)},t}();const Fa=ka;function Ma(){$e[ce]=function(t){var r=t.getService([ae,k]),i=r[0],e=r[1];return new Fa(i,e)},$e[Cr]=function(t){var r=t.getService([ke,k,ae,ce]),i=r[0],e=r[1],n=r[2],a=r[3];return new da(i,e,n,a)}}function Ha(t,r){document.visibilityState==="hidden"&&(we.lastHiddenStart=0);var i=function(){document.visibilityState==="hidden"&&rr(t,r)},e=function(){return rr(t,r)},n=!0;return window.addEventListener("visibilitychange",i,n),window.addEventListener("pagehide",e,n),function(){window.removeEventListener("visibilitychange",i,n),window.removeEventListener("pagehide",e,n)}}function rr(t,r){var i=r.getCurrentTransaction();if(i){var e=t.observeEvent(wr,function(){t.dispatchEvent(lt),we.lastHiddenStart=Te(),e()});i.end()}else t.dispatchEvent(lt),we.lastHiddenStart=Te()}var ja="a[data-transaction-name], button[data-transaction-name]";function Da(t){var r=function(a){a.target instanceof Element&&Ua(t,a.target)},i="click",e=!0;return window.addEventListener(i,r,e),function(){window.removeEventListener(i,r,e)}}function Ua(t,r){var i=qa(r),e=i.transactionName,n=i.context,a=t.startTransaction("Click - "+e,Er,{managed:!0,canReuse:!0,reuseThreshold:300});a&&n&&a.addContext(n)}function qa(t){var r={transactionName:null,context:null};r.transactionName=Va(t);var i=t.getAttribute("class");return i&&(r.context={custom:{classes:i}}),r}function Va(t){var r=Ba(t);if(r)return r;var i=t.tagName.toLowerCase(),e=t.getAttribute("name");return e?i+'["'+e+'"]':i}function Ba(t){if(t.closest){var r=t.closest(ja);return r?r.dataset.transactionName:null}return t.dataset.transactionName}function Ga(t,r){var i,e=(i={},i[ye]=!1,i[_e]=!1,i[Se]=!1,i[j]=!1,i[Or]=!1,i[Rr]=!1,i[Nr]=!1,i);return t&&Object.keys(e).forEach(function(n){r.indexOf(n)===-1&&(e[n]=!0)}),e}var nr=!1;function za(){return yn()?(sa(),we.bootstrapTime=Te(),nr=!0):de&&console.log("[Elastic APM] platform is not supported!"),nr}function Xa(){Ma(),ta();var t=new ea;return t}var Ka=function(){function t(i,e){this._disable=e,this.serviceFactory=i,this._initialized=!1}var r=t.prototype;return r.isEnabled=function(){return!this._disable},r.isActive=function(){var e=this.serviceFactory.getService(k);return this.isEnabled()&&this._initialized&&e.get("active")},r.init=function(e){var n=this;if(this.isEnabled()&&!this._initialized){this._initialized=!0;var a=this.serviceFactory.getService([k,ae,ce]),s=a[0],o=a[1],c=a[2];s.setVersion("5.15.0"),this.config(e);var f=s.get("logLevel");o.setLevel(f);var d=s.get("active");if(d){this.serviceFactory.init();var u=Ga(s.get("instrument"),s.get("disableInstrumentations")),l=this.serviceFactory.getService(Cr);if(l.init(u),u[Or]){var v=this.serviceFactory.getService(pt);v.registerListeners()}if(s.get("session")){var h=s.getLocalConfig();h&&h.session&&s.setConfig({session:h.session})}var p=function(){return u[j]&&n._sendPageLoadMetrics()};s.get("centralConfig")?this.fetchCentralConfig().then(p):p(),Ha(s,c),u[Rr]&&u[Nr]&&Da(c)}else this._disable=!0,o.warn("RUM agent is inactive")}return this},r.fetchCentralConfig=function(){var e=this.serviceFactory.getService([ke,ae,k]),n=e[0],a=e[1],s=e[2];return n.fetchConfig(s.get("serviceName"),s.get("environment")).then(function(o){var c=o.transaction_sample_rate;if(c){c=Number(c);var f={transactionSampleRate:c},d=s.validate(f),u=d.invalid;if(u.length===0)s.setConfig(f);else{var l=u[0],v=l.key,h=l.value,p=l.allowed;a.warn('invalid value "'+h+'" for '+v+". Allowed: "+p+".")}}return o}).catch(function(o){a.warn("failed fetching config:",o)})},r._sendPageLoadMetrics=function(){var e=this.startTransaction(void 0,j,{managed:!0,canReuse:!0});if(e){e.addTask(j);var n=function(){setTimeout(function(){return e.removeTask(j)},_r)};document.readyState==="complete"?n():window.addEventListener("load",n)}},r.observe=function(e,n){var a=this.serviceFactory.getService(k);a.events.observe(e,n)},r.config=function(e){var n=this.serviceFactory.getService([k,ae]),a=n[0],s=n[1],o=a.validate(e),c=o.missing,f=o.invalid,d=o.unknown;if(d.length>0){var u="Unknown config options are specified for RUM agent: "+d.join(", ");s.warn(u)}if(c.length===0&&f.length===0)a.setConfig(e);else{var l=", ",v="RUM agent isn't correctly configured. ";c.length>0&&(v+=c.join(l)+" is missing",f.length>0&&(v+=l)),f.forEach(function(h,p){var g=h.key,m=h.value,w=h.allowed;v+=g+' "'+m+'" contains invalid characters! (allowed: '+w+")"+(p!==f.length-1?l:"")}),s.error(v),a.setConfig({active:!1})}},r.setUserContext=function(e){var n=this.serviceFactory.getService(k);n.setUserContext(e)},r.setCustomContext=function(e){var n=this.serviceFactory.getService(k);n.setCustomContext(e)},r.addLabels=function(e){var n=this.serviceFactory.getService(k);n.addLabels(e)},r.setInitialPageLoadName=function(e){var n=this.serviceFactory.getService(k);n.setConfig({pageLoadTransactionName:e})},r.startTransaction=function(e,n,a){if(this.isEnabled()){var s=this.serviceFactory.getService(ce);return s.startTransaction(e,n,a)}},r.startSpan=function(e,n,a){if(this.isEnabled()){var s=this.serviceFactory.getService(ce);return s.startSpan(e,n,a)}},r.getCurrentTransaction=function(){if(this.isEnabled()){var e=this.serviceFactory.getService(ce);return e.getCurrentTransaction()}},r.captureError=function(e){if(this.isEnabled()){var n=this.serviceFactory.getService(pt);return n.logError(e)}},r.addFilter=function(e){var n=this.serviceFactory.getService(k);n.addFilter(e)},t}();function Ja(){if(de&&window.elasticApm)return window.elasticApm;var t=za(),r=Xa(),i=new Ka(r,!t);return de&&(window.elasticApm=i),i}var ir=Ja(),Ya=ir.init.bind(ir);const Qa=!1,Wa=!1,Za=!0;Ya({serviceName:"awesome-front",serverUrl:"http://localhost:8200",serviceVersion:"",environment:"local",distributedTracingOrigins:["http://localhost:8080"],propagateTracestate:!0});const ps=Object.freeze(Object.defineProperty({__proto__:null,csr:Za,prerender:Qa,ssr:Wa},Symbol.toStringTag,{value:"Module"}));function es(t){let r,i,e,n,a,s,o,c,f,d,u,l,v,h,p,g,m,w,_,I,M;return c=new ge({props:{icon:"question-circle",size:18}}),v=new ge({props:{icon:"bell",size:18}}),{c(){r=T("header"),i=T("div"),e=T("h4"),n=X(t[0]),a=A(),s=T("div"),o=T("div"),J(c.$$.fragment),f=A(),d=T("div"),u=T("span"),l=A(),J(v.$$.fragment),h=A(),p=T("div"),g=T("img"),w=A(),_=T("span"),I=X("Kerri Jackson"),this.h()},l(N){r=b(N,"HEADER",{class:!0});var O=R(r);i=b(O,"DIV",{});var $=R(i);e=b($,"H4",{});var V=R(e);n=K(V,t[0]),V.forEach(S),$.forEach(S),a=P(O),s=b(O,"DIV",{class:!0});var H=R(s);o=b(H,"DIV",{});var pe=R(o);Y(c.$$.fragment,pe),pe.forEach(S),f=P(H),d=b(H,"DIV",{class:!0});var Z=R(d);u=b(Z,"SPAN",{class:!0}),R(u).forEach(S),l=P(Z),Y(v.$$.fragment,Z),Z.forEach(S),h=P(H),p=b(H,"DIV",{class:!0});var D=R(p);g=b(D,"IMG",{src:!0,class:!0}),w=P(D),_=b(D,"SPAN",{});var U=R(_);I=K(U,"Kerri Jackson"),U.forEach(S),D.forEach(S),H.forEach(S),O.forEach(S),this.h()},h(){E(u,"class","dot svelte-1bvscfk"),E(d,"class","d-block position-relative"),Vr(g.src,m=oe+"/assets/avatar.jpg")||E(g,"src",m),E(g,"class","avatar rounded-circle shadow-4 svelte-1bvscfk"),E(p,"class","d-flex align-items-center gap-2"),E(s,"class","d-flex justify-content-end align-items-center gap-3"),E(r,"class","d-flex justify-content-between align-items-center svelte-1bvscfk")},m(N,O){Ke(N,r,O),y(r,i),y(i,e),y(e,n),y(r,a),y(r,s),y(s,o),Q(c,o,null),y(s,f),y(s,d),y(d,u),y(d,l),Q(v,d,null),y(s,h),y(s,p),y(p,g),y(p,w),y(p,_),y(_,I),M=!0},p(N,[O]){(!M||O&1)&&Br(n,N[0])},i(N){M||(B(c.$$.fragment,N),B(v.$$.fragment,N),M=!0)},o(N){G(c.$$.fragment,N),G(v.$$.fragment,N),M=!1},d(N){N&&S(r),W(c),W(v)}}}function ts(t,r,i){let e,n;ar(t,sr,s=>i(1,n=s));let a=new Map([["","Dashboard"],["products","Products"],["orders","Orders"],["metrics","Metrics"]]);return t.$$.update=()=>{t.$$.dirty&2&&i(0,e=a.get(n.url.pathname.replace(oe,"").split("/")[1]))},[e,n]}class rs extends Ge{constructor(r){super(),ze(this,r,ts,es,Xe,{})}}function ns(t){let r,i,e,n,a;return{c(){r=T("footer"),i=T("hr"),e=A(),n=T("div"),a=X(" 2023 Awesome RUM"),this.h()},l(s){r=b(s,"FOOTER",{class:!0});var o=R(r);i=b(o,"HR",{}),e=P(o),n=b(o,"DIV",{class:!0});var c=R(n);a=K(c," 2023 Awesome RUM"),c.forEach(S),o.forEach(S),this.h()},h(){E(n,"class","mb-2 text-muted text-end"),E(r,"class","container py-1 my-1 px-5")},m(s,o){Ke(s,r,o),y(r,i),y(r,e),y(r,n),y(n,a)},p:Ze,i:Ze,o:Ze,d(s){s&&S(r)}}}class is extends Ge{constructor(r){super(),ze(this,r,null,ns,Xe,{})}}function as(t){let r,i,e,n,a,s,o,c,f,d,u,l,v,h,p,g,m,w,_,I,M,N,O,$,V,H,pe,Z,D,U,se,Ye,he,Qe,ee;return d=new ge({props:{class:"d-block mx-auto",icon:"house-door"}}),m=new ge({props:{class:"d-block mx-auto",icon:"grid"}}),$=new ge({props:{class:"d-block mx-auto",icon:"speedometer"}}),se=new ge({props:{class:"d-block mx-auto",icon:"table"}}),{c(){r=T("nav"),i=T("div"),e=X(`Awesome
        `),n=T("div"),a=X("RUM"),s=A(),o=T("ul"),c=T("li"),f=T("a"),J(d.$$.fragment),u=A(),l=T("span"),v=X("Dashboard"),h=A(),p=T("li"),g=T("a"),J(m.$$.fragment),w=A(),_=T("span"),I=X("Products"),M=A(),N=T("li"),O=T("a"),J($.$$.fragment),V=A(),H=T("span"),pe=X("Metrics"),Z=A(),D=T("li"),U=T("a"),J(se.$$.fragment),Ye=A(),he=T("span"),Qe=X("Orders"),this.h()},l(L){r=b(L,"NAV",{class:!0});var q=R(r);i=b(q,"DIV",{class:!0});var We=R(i);e=K(We,`Awesome
        `),n=b(We,"DIV",{class:!0});var xt=R(n);a=K(xt,"RUM"),xt.forEach(S),We.forEach(S),s=P(q),o=b(q,"UL",{class:!0});var te=R(o);c=b(te,"LI",{class:!0});var It=R(c);f=b(It,"A",{href:!0,class:!0});var Fe=R(f);Y(d.$$.fragment,Fe),u=P(Fe),l=b(Fe,"SPAN",{class:!0});var Ct=R(l);v=K(Ct,"Dashboard"),Ct.forEach(S),Fe.forEach(S),It.forEach(S),h=P(te),p=b(te,"LI",{class:!0});var Lt=R(p);g=b(Lt,"A",{href:!0,class:!0});var Me=R(g);Y(m.$$.fragment,Me),w=P(Me),_=b(Me,"SPAN",{class:!0});var At=R(_);I=K(At,"Products"),At.forEach(S),Me.forEach(S),Lt.forEach(S),M=P(te),N=b(te,"LI",{class:!0});var Pt=R(N);O=b(Pt,"A",{href:!0,class:!0});var He=R(O);Y($.$$.fragment,He),V=P(He),H=b(He,"SPAN",{class:!0});var $t=R(H);pe=K($t,"Metrics"),$t.forEach(S),He.forEach(S),Pt.forEach(S),Z=P(te),D=b(te,"LI",{class:!0});var kt=R(D);U=b(kt,"A",{href:!0,class:!0});var je=R(U);Y(se.$$.fragment,je),Ye=P(je),he=b(je,"SPAN",{class:!0});var Ft=R(he);Qe=K(Ft,"Orders"),Ft.forEach(S),je.forEach(S),kt.forEach(S),te.forEach(S),q.forEach(S),this.h()},h(){E(n,"class","text-end fw-bold"),E(i,"class","text-white p-2 ps-1 pb-5"),E(l,"class","svelte-gvsp2y"),E(f,"href",oe+"/"),E(f,"class","nav-link text-white"),E(c,"class","svelte-gvsp2y"),re(c,"active",ne("/",t[0])),E(_,"class","svelte-gvsp2y"),E(g,"href",oe+"/products"),E(g,"class","nav-link text-white"),E(p,"class","svelte-gvsp2y"),re(p,"active",ne("/products",t[0])),E(H,"class","svelte-gvsp2y"),E(O,"href",oe+"/metrics"),E(O,"class","nav-link text-white"),E(N,"class","svelte-gvsp2y"),re(N,"active",ne("/metrics",t[0])),E(he,"class","svelte-gvsp2y"),E(U,"href",oe+"/orders"),E(U,"class","nav-link text-white"),E(D,"class","svelte-gvsp2y"),re(D,"active",ne("/orders",t[0])),E(o,"class","d-flex nav nav-pills nav-flush flex-column mb-auto text-center svelte-gvsp2y"),E(r,"class","sidebar d-flex flex-column align-items-center svelte-gvsp2y")},m(L,q){Ke(L,r,q),y(r,i),y(i,e),y(i,n),y(n,a),y(r,s),y(r,o),y(o,c),y(c,f),Q(d,f,null),y(f,u),y(f,l),y(l,v),y(o,h),y(o,p),y(p,g),Q(m,g,null),y(g,w),y(g,_),y(_,I),y(o,M),y(o,N),y(N,O),Q($,O,null),y(O,V),y(O,H),y(H,pe),y(o,Z),y(o,D),y(D,U),Q(se,U,null),y(U,Ye),y(U,he),y(he,Qe),ee=!0},p(L,[q]){(!ee||q&1)&&re(c,"active",ne("/",L[0])),(!ee||q&1)&&re(p,"active",ne("/products",L[0])),(!ee||q&1)&&re(N,"active",ne("/metrics",L[0])),(!ee||q&1)&&re(D,"active",ne("/orders",L[0]))},i(L){ee||(B(d.$$.fragment,L),B(m.$$.fragment,L),B($.$$.fragment,L),B(se.$$.fragment,L),ee=!0)},o(L){G(d.$$.fragment,L),G(m.$$.fragment,L),G($.$$.fragment,L),G(se.$$.fragment,L),ee=!1},d(L){L&&S(r),W(d),W(m),W($),W(se)}}}function ne(t,r){return t===r||t!=="/"&&r.startsWith(t)}function ss(t,r,i){let e,n;return ar(t,sr,a=>i(1,n=a)),t.$$.update=()=>{t.$$.dirty&2&&i(0,e=n.url.pathname.replace(oe,""))},[e,n]}class os extends Ge{constructor(r){super(),ze(this,r,ss,as,Xe,{})}}function cs(t){let r,i,e,n,a,s,o,c,f,d,u,l;e=new rs({});const v=t[1].default,h=Gr(v,t,t[0],null);return c=new os({}),u=new is({}),{c(){r=T("div"),i=T("header"),J(e.$$.fragment),n=A(),a=T("main"),h&&h.c(),s=A(),o=T("aside"),J(c.$$.fragment),f=A(),d=T("footer"),J(u.$$.fragment),this.h()},l(p){r=b(p,"DIV",{class:!0});var g=R(r);i=b(g,"HEADER",{class:!0});var m=R(i);Y(e.$$.fragment,m),m.forEach(S),n=P(g),a=b(g,"MAIN",{class:!0});var w=R(a);h&&h.l(w),w.forEach(S),s=P(g),o=b(g,"ASIDE",{class:!0});var _=R(o);Y(c.$$.fragment,_),_.forEach(S),f=P(g),d=b(g,"FOOTER",{class:!0});var I=R(d);Y(u.$$.fragment,I),I.forEach(S),g.forEach(S),this.h()},h(){E(i,"class","svelte-1k9ad5x"),E(a,"class","svelte-1k9ad5x"),E(o,"class","svelte-1k9ad5x"),E(d,"class","svelte-1k9ad5x"),E(r,"class","wrapper svelte-1k9ad5x")},m(p,g){Ke(p,r,g),y(r,i),Q(e,i,null),y(r,n),y(r,a),h&&h.m(a,null),y(r,s),y(r,o),Q(c,o,null),y(r,f),y(r,d),Q(u,d,null),l=!0},p(p,[g]){h&&h.p&&(!l||g&1)&&zr(h,v,p,p[0],l?Kr(v,p[0],g,null):Xr(p[0]),null)},i(p){l||(B(e.$$.fragment,p),B(h,p),B(c.$$.fragment,p),B(u.$$.fragment,p),l=!0)},o(p){G(e.$$.fragment,p),G(h,p),G(c.$$.fragment,p),G(u.$$.fragment,p),l=!1},d(p){p&&S(r),W(e),h&&h.d(p),W(c),W(u)}}}function us(t,r,i){let{$$slots:e={},$$scope:n}=r;return t.$$set=a=>{"$$scope"in a&&i(0,n=a.$$scope)},[n,e]}class hs extends Ge{constructor(r){super(),ze(this,r,us,cs,Xe,{})}}export{hs as component,ps as universal};
